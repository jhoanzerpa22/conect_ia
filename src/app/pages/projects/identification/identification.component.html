<!-- Start Breadcrumbs -->
<app-breadcrumbs title="Paso 3: Identificación - {{project.nombre}}" [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>
<!-- End Breadcrumbs -->

 <div class="row project-wrapper mb-4">
    <div class="col-xxl-12">
        
        <div class="row">
            <div class="col-xl-12">

                <!--<div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-12">-->
                                <!-- Nav tabs -->
                                <ul ngbNav #nav="ngbNav" [activeId]="activeTab" class="nav nav-pills nav-conect nav-justified"><!-- mb-3 nav-tabs    nav nav-tabs-->
                                    <li [ngbNavItem]="1" class="nav-item waves-effect waves-light">
                                        <a ngbNavLink (click)="changeTab(1)">
                                            <span class="d-sm-block">
                                                <i class="ri-user-2-line align-middle me-2" style="
                                                border: 1px #c4cadc solid;
                                                border-radius: 24px;
                                                padding: 10px;
                                                background: #c4cadc;
                                            "></i> Selecciona</span>
                                        </a>
                                        <ng-template ngbNavContent>
                                            <ng-template [ngTemplateOutlet]="TabContent"></ng-template>
                                        </ng-template>
                                    </li>
                                    <li [ngbNavItem]="2" class="nav-item waves-effect waves-light" [disabled]="articles_proyects_group < 1">
                                        <a ngbNavLink (click)="changeTab(2)">
                                            <!--<div class="avatar-sm">
                                                <span class="avatar-title text-primary rounded-4 fs-6 bg-soft-primary">
                                                <i class="ri-truck-fill"></i>
                                                </span>
                                            </div>-->
                                            <span class="d-sm-block">
                                                <i class="ri-share-fill align-middle me-2" style="
                                                border: 1px #c4cadc solid;
                                                border-radius: 24px;
                                                padding: 10px;
                                                background: #c4cadc;
                                            "></i>
                                                Vincula
                                            </span>
                                        </a>
                                        <ng-template ngbNavContent>
                                            <ng-template [ngTemplateOutlet]="TabContent1"></ng-template>
                                        </ng-template>
                                    </li>
                                    <li [ngbNavItem]="3" class="nav-item waves-effect waves-light" [disabled]="cuerpo_installations < 1">
                                        <a ngbNavLink (click)="changeTab(3)">
                                            <span class="d-sm-block">
                                                <i class="ri-settings-5-fill align-middle me-2" style="
                                                border: 1px #c4cadc solid;
                                                border-radius: 24px;
                                                padding: 10px;
                                                background: #c4cadc;
                                            "></i>
                                            Gestiona</span>
                                        </a>
                                        <ng-template ngbNavContent>
                                            <ng-template [ngTemplateOutlet]="TabContent2"></ng-template>
                                        </ng-template>
                                    </li>
                                    <li [ngbNavItem]="4" class="nav-item waves-effect waves-light" [disabled]="cuerpo_installations.length < 1">
                                        <a ngbNavLink (click)="changeTab(4)">
                                            <span class="d-sm-block">
                                                <i class="ri-ticket-2-fill align-middle me-2" style="
                                                border: 1px #c4cadc solid;
                                                border-radius: 24px;
                                                padding: 10px;
                                                background: #c4cadc;
                                            "></i>
                                            Finaliza</span>
                                        </a>
                                        <ng-template ngbNavContent>
                                            <ng-template [ngTemplateOutlet]="TabContent3"></ng-template>
                                        </ng-template>
                                    </li>
                                </ul>
                                <!-- Tab panes -->
                                <div class="tab-content  text-muted">
                                    <div [ngbNavOutlet]="nav"></div>
                                </div>
                            </div>
                        </div>
                </div>
                </div>

<ng-template #TabContent>
<div class="card">  
<div class="card-body">  
  <div class="row g-4 mb-3">
    <div class="col-sm-auto">
        
    </div>
    <div class="col-sm">
        <div class="d-flex justify-content-sm-end gap-2">
            <div class="search-box ms-2">
                <input type="text" class="form-control" style="width: 400px;" placeholder="Buscar el cuerpo legal" [(ngModel)]="term"><!--"service.searchTerm"-->
                <i class="ri-search-line search-icon"></i>
            </div>
        </div>
    </div>
  </div>
  
  <div style="min-height: 600px;">
    
    <div class="row text-center text-center align-items-center mb-4 justify-content-center">
        <div class="col-xxl-2 col-lg-2"><!-- style="
            margin-left: 30px;
            margin-right: 30px;
        "-->
            <!--<div class="div-texto" [ngClass]="{'div-texto-check texto-check': !ambito}" (click)="setFilterAmbito()">
                Todos
            </div>-->
            
            <button type="button" style="width: 100%;" class="btn bg-gradient waves-effect waves-light" [ngClass]="!ambito ? 'btn-primary' : 'btn-light'" (click)="setFilterAmbito()">Todos</button>
        </div>
        
        <div class="col-xxl-2 col-lg-2"><!-- style="
            margin-left: 30px;
            margin-right: 30px;
        "-->
            <!--<div class="div-texto" [ngClass]="{'div-texto-check texto-check': validateFilter('GENERAL')}" (click)="setFilterAmbito('GENERAL')">
                Normativa general 
            </div>-->
            
            <button type="button" style="width: 100%;" class="btn bg-gradient waves-effect waves-light" [ngClass]="validateFilter('GENERAL') ? 'btn-primary' : 'btn-light'" (click)="setFilterAmbito('GENERAL')">Normativa general</button>
        </div>
        
        <div class="col-xxl-2 col-lg-2"><!-- style="
            margin-left: 30px;
            margin-right: 30px;
        "-->
            <!--<div class="div-texto" [ngClass]="{'div-texto-check texto-check': validateFilter('MA')}" (click)="setFilterAmbito('MA')">
                Normativa ambiental
            </div>-->
            
            <button type="button" style="width: 100%;" class="btn bg-gradient waves-effect waves-light" [ngClass]="validateFilter('MA') ? 'btn-primary' : 'btn-light'" (click)="setFilterAmbito('MA')">Normativa ambiental</button>
        </div>

        <div class="col-xxl-2 col-lg-2"><!-- style="
            margin-left: 30px;
            margin-right: 30px;
        "-->
            <!--<div class="div-texto" [ngClass]="{'div-texto-check texto-check': validateFilter('SST')}" (click)="setFilterAmbito('SST')">
                Normativa SST 
            </div>-->
            
            <button type="button" style="width: 100%;" class="btn bg-gradient waves-effect waves-light" [ngClass]="validateFilter('SST') ? 'btn-primary' : 'btn-light'" (click)="setFilterAmbito('SST')">Normativa SST</button>
        </div>
        
        <div class="col-xxl-2 col-lg-2"><!-- style="
            margin-left: 30px;
            margin-right: 30px;
        "-->
            <!--<div class="div-texto" [ngClass]="{'div-texto-check texto-check': validateFilter('LABORAL')}" (click)="setFilterAmbito('LABORAL')">disabled
                Normativa laboral 
            </div>-->
            
            <button type="button" style="width: 100%;" class="btn bg-gradient waves-effect waves-light" [ngClass]="validateFilter('LABORAL') ? 'btn-primary' : 'btn-light'" (click)="setFilterAmbito('LABORAL')">Normativa laboral</button>
        </div>
        
        <div class="col-xxl-2 col-lg-2"><!-- style="
            margin-left: 30px;
            margin-right: 30px;
        "-->
            <!--<div class="div-texto" [ngClass]="{'div-texto-check texto-check': validateFilter('ENERGIA')}" (click)="setFilterAmbito('ENERGIA')">
                Normativa de energía 
            </div>-->
            
            <button type="button" style="width: 100%;" class="btn bg-gradient waves-effect waves-light" [ngClass]="validateFilter('ENERGIA') ? 'btn-primary' : 'btn-light'" (click)="setFilterAmbito('ENERGIA')">Normativa de energía</button>
        </div>
    </div>
  <div class="row">
   
    <app-toastsp aria-live="polite" aria-atomic="true"></app-toastsp>
    
    <div class="col-xxl-3 col-sm-6 project-card" *ngFor="let data of normasListWidgets | filter:term" id="pl1_{{data.normaId}}">
        <div [ngClass]="!validateIdNorma(data.normaId) ? 'card card-height-100 border card-border-success right' : 'card card-height-100'">
            <div class="card-body">
                <span class="float-end" style="font-size: 20px;" *ngIf="!validateIdNorma(data.normaId)"><i class="ri-checkbox-circle-fill text-success"></i></span>
                <div class="d-flex flex-column h-100 text-center">
                    <div style="cursor:pointer;" (click)="conectCuerpo(data.normaId, data)">
                    <div class="d-flex">
                        <div class="flex-grow-1">
                        </div>
                        <div class="flex-shrink-0">
                            <div class="d-flex gap-1 align-items-center">
                                
                            </div>
                        </div>
                    </div>
                    <div class="d-flex mb-2"><!--routerLink="/pages/{{data.id}}/steps"-->
                        <!--<div class="flex-shrink-0 me-3">
                            <div class="avatar-sm">
                                <span class="avatar-title bg-soft-warning rounded p-2">
                                    <img src="{{data.img}}" alt="" class="img-fluid p-1">
                                </span>
                            </div>
                        </div>-->
                        <div class="flex-grow-1">
                            <h5 class="mb-1 fs-15"><label style="color: #405189;"><!--<a routerLink="/projects/overview" class="text-dark">{{data.label}}</a>-->{{data.identificador ? (data.identificador.tipoNorma ? data.identificador.tipoNorma+' '+data.identificador.numero : '') : ''}}</label></h5>
                            <p class="text-muted text-truncate-two-lines mb-3"><b>{{data.tituloNorma ? data.tituloNorma : ''}}</b></p>
                            <ng-container *ngFor="let org of data.organismos">
                                <p class="card-subtitle text-muted mb-0">{{org}}</p>
                            </ng-container>
                        </div>
                    </div>
                    <div class="mt-auto">
                        <div class="d-flex mb-2">
                            <div class="flex-grow-1">
                                <!--<div>Creado por: Jhoan Zerpa</div>-->
                            </div>
                        </div>
                    </div>
                    <div class="mt-auto">
                        <div class="d-flex mb-2">
                            <div class="flex-grow-1" [ngClass]="{'text-success': validateAttributeNorma(data.normaId,'monitoreo')}">
                                <div><i style="font-size: 24px;" class="ri-zoom-in-line"></i></div>
                                <div>Monitoreo</div>
                            </div>
                            <div class="flex-grow-1" [ngClass]="{'text-success': validateAttributeNorma(data.normaId,'reporte')}">
                                <div><i style="font-size: 24px;" class="ri-git-repository-line"></i></div>
                                <div>Reporte</div>
                            </div>
                            <div class="flex-grow-1" [ngClass]="{'text-success': validateAttributeNorma(data.normaId,'permiso')}">
                                <div><i style="font-size: 24px;" class="ri-file-list-3-line"></i></div>
                                <div>Permiso</div>
                            </div>
                            <!--<div class="flex-shrink-0">
                                <div><i class="ri-list-check align-bottom me-1 text-muted"></i>{{data.number ? data.number : '1/100'}}</div>
                            </div>-->
                        </div>
                    </div>
                    
                    <div class="mt-auto">
                        <div class="d-flex mb-2">
                            <div class="flex-grow-1">
                                <div><h5>{{byCuerpoVinculacion(data.normaId)}}</h5></div>
                                <div>{{byCuerpoVinculacion(data.normaId) == 1 ? 'Artículo a gestionar' : 'Artículos a gestionar'}}</div>
                            </div>
                            <div class="flex-grow-1">
                                <div><h5>{{byCuerpo(data.normaId)}}</h5></div>
                                <div>{{byCuerpo(data.normaId) == 1 ? 'Elemento' : 'Elementos'}}</div>
                            </div>
                        </div>
                    </div>
                    </div>
                    <div class="mt-auto">
                        <a _ngcontent-mpd-c393="" href="javascript:void(0);" routerLink="/projects/{{project_id}}/identification/bodylegal/{{data.normaId}}/Detail" class="btn btn-light" style="width: 100%;">Ver detalle</a>
                    </div>
                </div>
  
            </div>
            <!-- end card body -->
        </div>
    </div>
    <div *ngIf="!normasListWidgets"><!-- || normasListWidgets.length == 0-->
      <!--<div style="text-align: center;width: 100%;">
          <img src="assets/images/file.png" width="300" height="200"/>
      </div>-->
      <div style="text-align: center;width: 100%;font-size: 20px;">
          No hay datos para mostrar
      </div>
    </div>
  </div>
  </div>
  
<div class="pagination justify-content-start mb-0"><!-- class="row g-0 text-center text-sm-start align-items-center mb-4" style="padding: 0px;position: fixed;bottom: 75px;width: 100%;"-->
    <div class="col-sm-7">
        <div>
            <p class="mb-sm-0 text-muted">Mostrando página <span class="fw-semibold">{{page+1}}</span> de <span class="fw-semibold">{{pageTotal(pagLength)}}</span> de <span class="fw-semibold text-decoration-underline">{{pagLength}}</span> registros</p>
        </div>
    </div>
    <!-- end col -->
    <div class="col-sm-5">
        <!--<div class="text-sm-right float-sm-end listjs-pagination">
            <ngb-pagination [collectionSize]="total_paginate" [(page)]="service.page"
                [pageSize]="service.pageSize">
            </ngb-pagination>
        </div>-->
        <ul class="pagination pagination-separated justify-content-center justify-content-sm-end mb-sm-0">
            <li class="page-item" [ngClass]="page > 0 ? '' : 'disabled'">
                <a href="javascript:void(0);" class="page-link"  (click)="setPage(page - 1)">Anterior</a>
            </li>

            <ng-container *ngFor="let l of list_paginate">
            <li class="page-item" [ngClass]="l == page ? 'active' : ''">
                <a href="javascript:void(0);" class="page-link" (click)="setPage(l)">{{l+1}}</a>
            </li>
            </ng-container>

            <li class="page-item" [ngClass]="page + 1 == pageTotal(pagLength) ? 'disabled' : ''">
                <a href="javascript:void(0);" class="page-link" (click)="setPage(page + 1)">Siguiente</a>
              </li>
          </ul>
      </div><!-- end col -->
    </div><!-- end row -->
</div>
</div>

<div class="row mb-4">
    <div class="col-12">
        <button class="btn btn-primary btn-label waves-effect right waves-light" style="float:right;" (click)="saveCuerpos()" [disabled]="articles_proyects_group.length < 1"><i class="ri-arrow-right-line label-icon align-middle fs-16 ms-2"></i> Siguiente</button>
    </div>
</div>

</ng-template>

<ng-template #TabContent1>
    <div class="card">  
        <div class="card-body">  
          <div class="row g-4 mb-3">
            <div class="col-sm">
                
            </div>
            <div class="col-sm-auto">
                <div class="d-md-flex justify-content-sm-end gap-2">
                    <div class="search-box ms-md-2 flex-shrink-0 mb-3 mb-md-0">
                        <input type="text" class="form-control" style="width: 400px; margin-right: 30px;" placeholder="{{selectList ? 'Buscar el cuerpo legal' : 'Buscar el Elemento'}}" [(ngModel)]="term2"><!--"service.searchTerm"-->
                        <i class="ri-search-line search-icon"></i>
                    </div>
                    <div class="btn-group" role="group" aria-label="Vinculación po">
                        <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked="" (click)="onClickList(true)">
                        <label class="btn btn-outline-primary" for="btnradio1">Cuerpos Legales</label>
                        
                        <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off"  (click)="onClickList(false)">
                        <label class="btn btn-outline-primary" for="btnradio2">Elementos</label>
                    </div>
                    <!--<div class="form-check form-switch form-check-right" style="margin-right: 50px;font-family: 'Poppins', sans-serif;font-size:1.21875rem;min-width: 180px;">
                        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckRightDisabled" value="true" (change)="onChangeList($event)">
                        <label class="form-check-label" for="flexSwitchCheckRightDisabled">{{selectList ? 'Cuerpos Legales' : 'Elementos'}}</label>
                    </div>-->
                </div>
            </div>
          </div>

          <!--<div class="row text-center text-center align-items-center mb-4 justify-content-center" *ngIf="selectList">
            <div class="col-xxl-2 col-lg-2" style="
            margin-left: 30px;
            margin-right: 30px;
        ">
                <div class="div-texto disabled">
                    Legislación ambiental
                </div>
            </div>
    
            <div class="col-xxl-2 col-lg-2" style="
            margin-left: 30px;
            margin-right: 30px;
        ">
                <div class="div-texto disabled">
                    Legislación de Seguridad y Salud en el trabajo 
                </div>
            </div>
            
            <div class="col-xxl-2 col-lg-2" style="
            margin-left: 30px;
            margin-right: 30px;
        ">
                <div class="div-texto disabled">
                    Legislación laboral 
                </div>
            </div>
            
            <div class="col-xxl-2 col-lg-2" style="
            margin-left: 30px;
            margin-right: 30px;
        ">
                <div class="div-texto disabled">
                    Legislación de energía 
                </div>
            </div>
        </div>-->
    <div class="row" *ngIf="selectList">
        <div class="col-lg-12">
            <!--<div class="card">
                <div class="card-body">-->

                    <div *ngIf="articles_proyects_group.length < 1">
                        <!--<div style="text-align: center;width: 100%;">
                            <img src="assets/images/file.png" width="300" height="200"/>
                        </div>-->
                        <div style="text-align: center;width: 100%;font-size: 20px;">
                            Aún no tiene cuerpos aplicables
                        </div>
                    </div>

                    <div *ngIf="articles_proyects_group.length > 0">            
                            <div class="list-group">
                                    <h5 style="color: #405189;">CUERPOS LEGALES SELECCIONADOS</h5>

                                    <ng-container *ngFor="let s of articles_proyects_group | filter:term2">

                                    <div class="team-list list-view-filter row">
                                        <div class="col">
                                            <div class="card team-box border" [ngClass]="{ 'card-border-primary': onCheckCuerpos(s.normaId),'card-border-success': byCuerpo(s.normaId) > 0 && !onCheckCuerpos(s.normaId)}" id="{{s.normaId}}">
                                                <!--[ngClass]="byCuerpo(s.normaId) > 0 ? 'card team-box border card-border-success' : 'card team-box'"-->
                                                <div class="team-cover">
                                                    
                                                </div>
                                                <div class="card-body p-4">                
                                                    <div class="row align-items-center team-row">
                                                        <div class="col team-settings">
                                                            <div class="row">
                                                                <div class="col">
                                                                    
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-2 col pointer" (click)="onCheckboxClickCuerpos(s.normaId)">
                                                            <div class="team-profile-img">
                                                                
                                                                <h5 class="fs-16 mb-1" style="color: #405189;">{{s.cuerpoLegal}}</h5>
                                                                <!--<div class="form-check form-check-inline form-radio-primary mb-3">
                                                                    <input class="form-check-input" type="checkbox" id="{{s.normaId}}" value="{{s.normaId}}" name="checkAllCuerpos" (change)="onCheckboxChangeCuerpos($event)">
                                                                    
                                                                    <label class="form-check-label" for="{{s.normaId}}">
                                                                        <h5 class="fs-16 mb-1" style="color: #405189;">{{s.cuerpoLegal}}</h5>
                                                                    </label>
                                                                </div>-->
                                                                <!--<div class="team-content">
                                                                    <a data-bs-toggle="offcanvas"
                                                                        aria-controls="offcanvasExample">
                                                                    </a>
                                                                </div>-->
                                                            </div>
                                                        </div>
                                                        
                                                        <div class="col-lg-6 col pointer" (click)="onCheckboxClickCuerpos(s.normaId)">
                                                        <p class="card-text mb-2 align-self-center"><!--[style]="s.tituloNorma && s.tituloNorma.length > 250 ? 'min-height: 60px;' : 'min-height: 80px;'"-->{{s.tituloNorma ? (s.tituloNorma.length > 250 ? formatNorma(s.tituloNorma, s.normaId) : s.tituloNorma) : ''}}</p>
                                                        <p class="card-text">
                                                            <small [ngClass]="!validateIdparte2(s.normaId) ? 'text-success' : 'text-success'" style="cursor: pointer;" *ngIf="s.tituloNorma && s.tituloNorma.length > 250 && !validatShow2(s.normaId)" (click)="showText2(s.normaId)"><b>Leer más</b></small>
                                                            <small [ngClass]="!validateIdparte2(s.normaId) ? 'text-success' : 'text-success'" style="cursor: pointer;" *ngIf="s.tituloNorma && s.tituloNorma.length > 250 && validatShow2(s.normaId)" (click)="hideText2(s.normaId)"><b>Ocultar texto completo</b></small>
                                                        </p>
                                                        </div>
                                                        
                                                        <div class="col-lg-2 col pointer" (click)="onCheckboxClickCuerpos(s.normaId)">
                                                            <div class="row text-muted text-center">
                                                                
                                                                <div class="col-12">
                                                                    <h5 class="mb-1">{{byCuerpo(s.normaId)}}</h5>
                                                                    <p class="text-muted mb-0">Elementos Vinculadas</p>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="col-lg-2 col">
                                                                <button 
                                                                    [ngClass]="byCuerpo(s.normaId) > 0 ? 'btn btn-light view-btn text-success' : 'btn btn-light view-btn'"
                                                                    style="width: 100%;"  data-bs-target="#showModal" (click)="openModal(content, 'single', s)">{{byCuerpo(s.normaId) > 0 ? 'Modificar Vinculación' : 'Vincular'}}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--end card-->
                                        </div>
                                    </div>
                                    </ng-container>
                            </div>
                        </div>
                    <!--</div>
            </div>-->
        </div>
    </div>

    <div class="row" *ngIf="!selectList">
        <div class="col-lg-12">
            <!--<div class="card">
                <div class="card-body">-->

                    <div *ngIf="installations_data.length < 1">
                        <!--<div style="text-align: center;width: 100%;">
                            <img src="assets/images/file.png" width="300" height="200"/>
                        </div>-->
                        <div style="text-align: center;width: 100%;font-size: 20px;">
                            Aún no tiene Elementos o actividades
                        </div>
                    </div>

                    <div *ngIf="installations_data.length > 0">            
                            <div class="list-group">
                                <ng-container *ngFor="let ig of installations_group | filter:term2">
                                    <h4 style="color: #405189;">{{ig.area}}</h4>

                                    <ng-container *ngFor="let v of ig.instalaciones;">

                                    <div class="team-list list-view-filter row">
                                        <div class="col">
                                            <div class="card team-box border" [ngClass]="{ 'card-border-primary': onCheckInstallation(v.id),'card-border-success': byInstallation(v.id) > 0 && !onCheckInstallation(v.id)}" id="{{v.id}}"><!--, 'card team-box pointer': byInstallation(v.id) < 1-->
                                                <div class="team-cover">
                                                    
                                                </div>
                                                <div class="card-body p-4">                
                                                    <div class="row align-items-center team-row">
                                                        <div class="col team-settings">
                                                            <div class="row">
                                                                <div class="col">
                                                                    
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-2 col pointer" (click)="onCheckboxClickInstalaciones(v.id)">
                                                            <div class="team-profile-img">
                                                                
                                                                <h5 class="fs-16 mb-1" style="color: #405189;">{{v.nombre}}</h5>
                                                                <!--<div class="form-check form-check-inline form-radio-primary mb-3">
                                                                    <input class="form-check-input" type="checkbox" id="{{v.id}}" value="{{v.id}}" name="checkAllInstalaciones" (change)="onCheckboxChangeInstalaciones($event)">
                                                                    
                                                                    <label class="form-check-label" for="inlineCheckbox1">
                                                                        <h5 class="fs-16 mb-1" style="color: #405189;">{{v.nombre}}</h5>
                                                                    </label>
                                                                </div>-->
                                                                <!--<div class="team-content">
                                                                    <a data-bs-toggle="offcanvas"
                                                                        aria-controls="offcanvasExample">
                                                                    </a>
                                                                </div>-->
                                                            </div>
                                                        </div>
                                                        
                                                        <div class="col-lg-5 col pointer" (click)="onCheckboxClickInstalaciones(v.id)">
                                                        <p>{{v.descripcion}}</p>
                                                        </div>

                                                        <div class="col-lg-3 col pointer" (click)="onCheckboxClickInstalaciones(v.id)">
                                                            <div class="row text-muted text-center">
                                                                <div class="col-6 border-end border-end-dashed">
                                                                    <h5 class="mb-1">{{byInstallation(v.id)}}</h5>
                                                                    <p class="text-muted mb-0">Vinculaciones</p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-2 col">
                                                                <button
                                                                    [ngClass]="byInstallation(v.id) > 0 ? 'btn btn-light view-btn text-success' : 'btn btn-light view-btn'" 
                                                                    style="width: 100%;"
                                                                    data-bs-target="#showModal" (click)="openModal2(content2, 'single', v)">{{byInstallation(v.id) > 0 ? 'Modificar Vinculación' : 'Vincular'}}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--end card-->
                                        </div>
                                    </div>
                                    </ng-container>
                                </ng-container>
                            </div>
                        </div>
                    <!--</div>
            </div>-->
        </div>
    </div>
</div>
</div>

    <div class="row mb-4">
        <div class="col-lg-12">
           <!-- <div class="row align-items-center">
            <div class="col-lg-8 text-center">
                <div style="width: 40%; height: 10%; position: fixed; background: #F7B84B; box-shadow: 0px 17px 35px rgba(64, 81, 137, 0.20); border-radius: 2px; overflow: hidden">
                    <div style="width: 246px; padding-top: 6.40px; padding-bottom: 10px; left: 369px; top: 13px; position: absolute; background: white; border-radius: 2.84px; border: 0.36px #F3F6F9 solid; justify-content: center; align-items: center; display: inline-flex">
                    <div style="text-align: center; color: #634A1F; font-size: 9.24px; font-family: Poppins; font-weight: 400; line-height: 13.86px; word-wrap: break-word">Vincular selección</div>
                    </div>
                    <div style="left: 79px; top: 19px; position: absolute; text-align: center; color: white; font-size: 12px; font-family: Poppins; font-weight: 400; line-height: 13.86px; word-wrap: break-word">Instalación seleccionada</div>
                    <div style="left: 55px; top: 19px; position: absolute; text-align: center; color: white; font-size: 12px; font-family: Poppins; font-weight: 700; line-height: 13.86px; word-wrap: break-word">1</div>
                </div>
            </div>
            
            <div class="col-lg-4">-->
            <div style="float:right;"><!--class="row justify-content-end"-->
                <button type="button" class="btn btn-primary btn-label waves-effect right waves-light" (click)="siguiente()" [disabled]="cuerpo_installations.length < 1"><i class="ri-arrow-right-line label-icon align-middle fs-16 ms-2"></i> Siguiente</button>
            </div>
            <!--</div>
            </div>-->
        </div>
    </div>
    
<div class="row g-0 text-center justify-content-end text-sm-start align-items-center mb-4" style="padding: 0px;position: fixed;bottom: 75px;width: 60%;" *ngIf="selectCheckedCuerpos.length > 0 && selectList">
    <div class="col-sm-7">
        <div style="background: #F7B84B; box-shadow: 0px 17px 35px rgba(64, 81, 137, 0.20); border-radius: 2px; overflow: hidden; width: 100%; height: 100%;">
            <div class="col-sm-12">
                <div class="row mb-3 mt-3 align-items-center team-row">
                    <div class="col-sm-1">
                    </div>
                    <div class="col-sm-7" style="color: white; font-size: 12px; font-family: Poppins; font-weight: 400; line-height: 13.86px; word-wrap: break-word">
                        {{selectCheckedCuerpos.length}} {{selectCheckedCuerpos.length > 1 ? 'Cuerpos Legales Seleccionados' : 'Cuerpo Legal Seleccionado'}}
                    </div>
                    <div class="col-sm-4">
                        <button type="button" class="btn btn-primary waves-effect waves-light" style="color: #634A1F;font-family: Poppins;font-weight: 400;background-color: #fff;" data-bs-target="#showModal" (click)="openModal(content, 'multiple')">Vincular Selección</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row g-0 text-center justify-content-end text-sm-start align-items-center mb-4" style="padding: 0px;position: fixed;bottom: 75px;width: 60%;" *ngIf="!selectList && selectCheckedInstalaciones.length > 0">
    <div class="col-sm-7">
        <div style="background: #F7B84B; box-shadow: 0px 17px 35px rgba(64, 81, 137, 0.20); border-radius: 2px; overflow: hidden; width: 100%; height: 100%;">
            <div class="col-sm-12">
                <div class="row mb-3 mt-3 align-items-center team-row">
                    <div class="col-sm-1">
                    </div>
                    <div class="col-sm-7" style="color: white; font-size: 12px; font-family: Poppins; font-weight: 400; line-height: 13.86px; word-wrap: break-word">
                        {{selectCheckedInstalaciones.length}} {{selectCheckedInstalaciones.length > 1 ? 'Elementos Seleccionados' : 'Elemento Seleccionado'}}
                    </div>
                    <div class="col-sm-4">
                        <button type="button" class="btn btn-primary waves-effect waves-light" style="color: #634A1F;font-family: Poppins;font-weight: 400;background-color: #fff;" data-bs-target="#showModal" (click)="openModal2(content2, 'multiple')">Vincular Selección</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    
<!-- Add Instalaciones -->
<ng-template #content role="document" let-modal>
    <div class="modal-header bg-light p-3">
        <h5 class="modal-title" id="exampleModalLabel">Vincular Elementos</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar" id="close-modal"
            (click)="modal.dismiss('Cross click')"></button>
    </div>
    <form (ngSubmit)="saveInstallation()" [formGroup]="installationForm" class="tablelist-form" autocomplete="off">
        <div class="modal-body">

            <input type="hidden" name="id" value="" formControlName="ids" />

            <div class="mb-3" id="modal-id" style="display: none;">
                <label for="id-field" class="form-label">ID</label>
                <input type="text" id="id-field" class="form-control" placeholder="ID" formControlName="id" readonly />
            </div>

            <div class="mb-3">
                <label for="area-field" class="form-label">Área Administrativa</label>
                <select class="form-select mb-3" aria-label="Área Administrativa" placeholder="Seleccione Área Administrativa" formControlName="area"
                (change)="selectArea($event)">
                    <option value="" selected>Seleccione Área Administrativa </option>
                    <option *ngFor="let r of areas;" value="{{r.id}}">{{r.nombre}}</option>
                </select>
                <div class="invalid-feedback">Por favor ingresar área administrativa.</div>
            </div>
            
            <ng-container *ngFor="let item of items;let i = index;">
                <div class="mb-3">
                    <label for="area-field" class="form-label">Sub Área Administrativa</label>
                    <select class="form-select mb-3" formControlName="sub_area" placeholder="Seleccione Sub Area Administrativa" (change)="selectAreaChildren($event, i)">
                        <option value="" selected>Seleccione Sub Área Administrativa</option>
                        <option *ngFor="let o of item.options;" value="{{o.id}}">{{o.nombre}}</option>
                    </select>
                    <div class="invalid-feedback">Por favor ingresar área administrativa.</div>
                </div>
            </ng-container>

            <div class="mb-3">
                <div class="search-box">
                    <input type="text" class="form-control" placeholder="Buscar Elemento..." formControlName="search" [(ngModel)]="term5"><!--"service.searchTerm"-->
                    <i class="ri-search-line search-icon"></i>
                </div>
            </div>

            <div class="mb-3">
                <div class="list-group">
                    
                    <ng-container *ngFor="let o of installations | filter:term5">
                        <label class="list-group-item">
                        <input class="form-check-input me-1" type="checkbox" value="{{o.id}}" name="checkAll" formControlName="checkAll"
                        id="{{o.id}}" (change)="onCheckboxChange($event)"><!--checked-->
                        {{o.nombre}}
                        </label>
                    </ng-container>
                </div>
            </div>

        </div>
        <div class="modal-footer">
            <div class="hstack gap-2 justify-content-end">
                <button type="submit" class="btn btn-success" id="add-btn">Vincular</button>
            </div>
        </div>
    </form>
</ng-template>

<!-- Add Cuerpos -->
<ng-template #content2 role="document" let-modal>
    <div class="modal-header bg-light p-3">
        <h5 class="modal-title" id="exampleModalLabel">Vincular Cuerpos Legales</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar" id="close-modal"
            (click)="modal.dismiss('Cross click')"></button>
    </div>
    <form (ngSubmit)="saveCuerpo()" [formGroup]="cuerpoForm" class="tablelist-form" autocomplete="off">
        <div class="modal-body">

            <input type="hidden" name="id" value="" formControlName="ids" />

            <div class="mb-3" id="modal-id" style="display: none;">
                <label for="id-field" class="form-label">ID</label>
                <input type="text" id="id-field" class="form-control" placeholder="ID" formControlName="id" readonly />
            </div>

            <div class="mb-3">
                <div class="search-box">
                    <input type="text" class="form-control" formControlName="search" placeholder="Buscar Cuerpo Legal..." [(ngModel)]="term6"><!--"service.searchTerm"-->
                    <i class="ri-search-line search-icon"></i>
                </div>
            </div>

            <div class="mb-3">
                <div class="list-group">
                    <ng-container *ngFor="let pg of articles_proyects_group | filter:term6">
                        <label class="list-group-item">
                        <input class="form-check-input me-1" type="checkbox" value="{{pg.normaId}}" name="checkAll2" formControlName="checkAll2"
                        id="{{pg.normaId}}" (change)="onCheckboxChange2($event)"><!--checked-->
                        {{pg.cuerpoLegal}} | {{pg.tituloNorma}}
                        </label>
                    </ng-container>
                </div>
            </div>

        </div>
        <div class="modal-footer">
            <div class="hstack gap-2 justify-content-end">
                <button type="submit" class="btn btn-success" id="add-btn">Vincular</button>
            </div>
        </div>
    </form>
</ng-template>

</ng-template>

<ng-template #TabContent2>
    
    <div class="card">  
        <div class="card-body">  
          <div class="row g-4 mb-3">
            <div class="col-sm">
                
            </div>
            <div class="col-sm-auto">
                <div class="d-md-flex justify-content-sm-end gap-2">
                    <div class="search-box ms-md-2 flex-shrink-0 mb-3 mb-md-0">
                        <input type="text" class="form-control" style="width: 400px;margin-right: 39px;" placeholder="Buscar el cuerpo legal" [(ngModel)]="term3"><!--"service.searchTerm"-->
                        <i class="ri-search-line search-icon"></i>
                    </div>
                    
                    <div class="dropdown card-header-dropdown float-end" ngbDropdown>
                        <!--<a class="text-reset dropdown-btn arrow-none" style="font-family: 'Poppins', sans-serif;font-size:1.21875rem;" href="javascript:void(0);" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
                            <span class="text-muted"><i class="ri-settings-4-line align-middle me-1 fs-15"></i>Gestión avanzada</span>
                        </a>-->
                        <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>Gestión Avanzada</button>

                        <div class="dropdown-menu dropdown-menu-end" style="padding: 10px !important;" ngbDropdownMenu>
                            <div class="form-check form-check-primary mb-3">
                                <input class="form-check-input" type="checkbox" value="true" id="formAtributo" (change)="setConfig('atributo', $event)">
                                <label class="form-check-label" for="formAtributo">
                                Atributo
                                </label>
                            </div>
                            <!--<div class="form-check form-check-primary mb-3">
                                <input class="form-check-input" type="checkbox" value="true" id="formComponente" (change)="setConfig('componente', $event)">
                                <label class="form-check-label" for="formComponente">
                                Componente
                                </label>
                            </div>-->
                            
                            <div class="form-check form-check-primary mb-3">
                                <input class="form-check-input" type="checkbox" value="true" id="formFase" (change)="setConfig('fase', $event)">
                                <label class="form-check-label" for="formFase">
                                Criticidad
                                </label>
                            </div>
                            <!--<a class="dropdown-item" [ngClass]="validateConfig('atributo-'+g.normaId) ? 'text-success' : ''" href="javascript:void(0);" (click)="setConfig('atributo-'+g.normaId)">Atributo</a>
                            <a class="dropdown-item" [ngClass]="validateConfig('componente-'+g.normaId) ? 'text-success' : ''" href="javascript:void(0);" (click)="setConfig('componente-'+g.normaId)">Componente</a>
                            <a class="dropdown-item" [ngClass]="validateConfig('fase-'+g.normaId) ? 'text-success' : ''" href="javascript:void(0);" (click)="setConfig('fase-'+g.normaId)">Fase</a>-->
                        </div>
                    </div>
                </div>
            </div>
          </div>

          <!--<div class="row" style="margin-top: 20px;">
            <div class="col-xxl-12 col-lg-12">
                
                <div class="row">
                    <div class="col-xxl-2 col-lg-2" >
                        <div style="border: 1px solid #c0c0c0;background-color: #f3f6f9;
                        cursor: pointer;
                        border-radius: 24px;
                        align-items: center;
                        word-wrap: break-word;
                        word-break: break-all;
                        min-height: 30px;
                        display:flex;
                        justify-content: center;
                        align-items: center;" [ngClass]="{'div-texto-check texto-check': validateCuerpo('Cuerpo Legal')}" (click)="selectCuerpo('Cuerpo Legal')">Cuerpo Legal
                        </div>
                    </div>
                    
                    <div class="col-xxl-2 col-lg-2" >
                        <div style="border: 1px solid #c0c0c0;background-color: #f3f6f9;
                        cursor: pointer;
                        border-radius: 24px;
                        align-items: center;
                        word-wrap: break-word;
                        word-break: break-all;
                        min-height: 30px;
                        display:flex;
                        justify-content: center;
                        align-items: center;" [ngClass]="{'div-texto-check texto-check': validateCuerpo('Instalación')}" (click)="selectCuerpo('Instalación')">Instalación
                        </div>
                    </div>
                    
                    <div class="col-xxl-2 col-lg-2" >
                        <div style="border: 1px solid #c0c0c0;background-color: #f3f6f9;
                        cursor: pointer;
                        border-radius: 24px;
                        align-items: center;
                        word-wrap: break-word;
                        word-break: break-all;
                        min-height: 30px;
                        display:flex;
                        justify-content: center;
                        align-items: center;">Vincular Selección
                        </div>
                    </div>
                </div>
            </div>
        </div>-->

        <!--<div class="row text-center text-center align-items-center mb-4 justify-content-center">
            <div class="col-xxl-2 col-lg-2" style="
            margin-left: 30px;
            margin-right: 30px;
        ">
                <div class="div-texto disabled">
                    Legislación ambiental
                </div>
            </div>
    
            <div class="col-xxl-2 col-lg-2" style="
            margin-left: 30px;
            margin-right: 30px;
        ">
                <div class="div-texto disabled">
                    Legislación de Seguridad y Salud en el trabajo 
                </div>
            </div>
            
            <div class="col-xxl-2 col-lg-2" style="
            margin-left: 30px;
            margin-right: 30px;
        ">
                <div class="div-texto disabled">
                    Legislación laboral 
                </div>
            </div>
            
            <div class="col-xxl-2 col-lg-2" style="
            margin-left: 30px;
            margin-right: 30px;
        ">
                <div class="div-texto disabled">
                    Legislación de energía 
                </div>
            </div>
        </div>-->

    <div class="row">
        <div class="col-lg-12"><!--
            <div class="card">
                <div class="card-body">-->

                    <div *ngIf="articles_proyects_group.length < 1">
                        <!--<div style="text-align: center;width: 100%;">
                            <img src="assets/images/file.png" width="300" height="200"/>
                        </div>-->
                        <div style="text-align: center;width: 100%;font-size: 20px;">
                            Aún no tiene articulos aplicables
                        </div>
                    </div>

                    <div *ngIf="articles_proyects_group.length > 0">
                        <div class="list-group">

                                <ng-template #myArticles let-s="s">
                                    <div class="team-list list-view-filter row" *ngIf="s.tipoParte == 'Artículo'">
                                        <div class="col">
                                            <div class="card team-box border" [ngClass]="{'card-border-primary': onCheckVincular(s.articuloId),'card-border-success': byArticuloVinculacion(s.articuloId) > 0 && !onCheckVincular(s.articuloId)}" id="{{s.articuloId}}">
                                                <!--[ngClass]="byArticuloVinculacion(s.articuloId) > 0 ? 'card team-box border card-border-success' : 'card team-box'"-->
                                                <div class="team-cover">
                                                    
                                                </div>
                                                
                                                <div class="card-body p-4">                
                                                    <div class="row align-items-center team-row">
                                                        <div class="col team-settings">
                                                            <div class="row">
                                                                <div class="col">
                                                                    
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-auto col pointer" (click)="onCheckboxClickVincular(s.articuloId, s)">
                                                            <!--<div class="form-check form-check-inline form-radio-primary mb-3">
                                                                <input class="form-check-input" type="checkbox" id="{{s.articuloId}}" value="{{s.articuloId}}" name="checkAllVincular" (change)="onCheckboxChangeVincular($event, s)">
                                                            </div>
                                                            -->
                                                            <div>
                                                                <h5 class="fs-16 mb-1" style="color: #405189;">{{s.articulo ? s.tipoParte +' '+ s.articulo : s.tipoParte}}</h5>
                                                            </div>
                                                        </div>
                                                        <div class="col pointer" [ngClass]="validateConfig('atributo') || validateConfig('componente') || validateConfig('fase') ? 'col-lg-5' : 'col-lg-8'" (click)="onCheckboxClickVincular(s.articuloId, s)">
                                                            <!--class="team-profile-img"-->
                                                                <p class="card-text mb-2 align-self-center"><!-- [style]="s.descripcion && s.descripcion.length > 450 ? 'min-height: 60px;' : 'min-height: 80px;'"-->
                                                                    {{s.descripcion ? (s.descripcion.length > 450 ? formatArticle(s.descripcion, s.articuloId) : s.descripcion) : s.tipoParte}} 
                                                                    <small [ngClass]="!validateIdparte(s.articuloId) ? 'text-success' : 'text-success'" style="cursor: pointer;" *ngIf="s.descripcion && s.descripcion.length > 450 && !validatShow(s.articuloId)" (click)="showText(s.articuloId)"><b>Leer más</b></small>
                                                                    <small [ngClass]="!validateIdparte(s.articuloId) ? 'text-success' : 'text-success'" style="cursor: pointer;" *ngIf="s.descripcion && s.descripcion.length > 450 && validatShow(s.articuloId)" (click)="hideText(s.articuloId)"><b>Ocultar texto completo</b></small></p>
                                                                <!--<p class="card-text">
                                                                </p>-->
                                                        </div>
                                                        
                                                        
                                                        <div class="col-xs-1 col" *ngIf="validateConfig('atributo')">
                                                            <!--<i [ngClass]="{'icon-check': s.monitoreo}" style="font-size: 30px;" class="ri-zoom-in-line"></i>-->
                                                            <button
                                                                    [ngClass]="validateAttribute('articuloTipo',s.id, s.articuloTipo, 'permiso') ? 'btn-success' :'btn-light'"
                                                                    class="btn view-btn mb-2" style="width: 100%;" (click)="setAttribute('articuloTipo',s.id, 'permiso')">Permiso</button>
                                                                    
                                                            <button
                                                            [ngClass]="validateAttribute('articuloTipo',s.id, s.articuloTipo, 'reporte') ? 'btn-success' :'btn-light'"
                                                            class="btn view-btn mb-2" style="width: 100%;" (click)="setAttribute('articuloTipo',s.id, 'reporte')"  >Reporte</button>
                                                            
                                                            <button
                                                                [ngClass]="validateAttribute('articuloTipo',s.id, s.articuloTipo, 'monitoreo') ? 'btn-success' :'btn-light'"
                                                                class="btn  view-btn mb-2" style="width: 100%;" (click)="setAttribute('articuloTipo',s.id, 'monitoreo')">Monitoreo</button>
                                                        </div>
                                                        
                                                        <!--<div class="col-xs-1 col" *ngIf="validateConfig('componente')">
                                                           
                                                            <select class="form-select mb-2" name="componente">
                                                            <option value="bg-soft-success">Componente</option>
                                                            </select>

                                                            <select class="form-select mb-2" name="subcomponente">
                                                                <option value="bg-soft-success">Sub Componente</option>
                                                                </select>
                                                        </div>-->
                                                        
                                                        <div class="col-xs-1 col" *ngIf="validateConfig('fase')">
                                                            <!--<i [ngClass]="{'icon-check': s.permiso}" style="font-size: 30px;" class="ri-file-list-3-line"></i>-->
                                                            
                                                            <button
                                                                    [ngClass]="validateAttribute('construccion',s.id, s.construccion, 'construccion') ? 'btn-success' :'btn-light'"
                                                                    class="btn view-btn mb-2" style="width: 100%;" (click)="setAttribute('construccion',s.id, 'construccion')"  >Alta</button>
                                                                    
                                                            <button
                                                            [ngClass]="validateAttribute('operacion',s.id, s.operacion, 'operacion') ? 'btn-success' :'btn-light'"
                                                                    class="btn view-btn mb-2" style="width: 100%;" (click)="setAttribute('operacion',s.id, 'operacion')">Media</button>
                                                            
                                                            <button
                                                            [ngClass]="validateAttribute('cierre',s.id, s.cierre, 'cierre') ? 'btn-success' :'btn-light'"
                                                            class="btn view-btn mb-2" style="width: 100%;" (click)="setAttribute('cierre',s.id, 'cierre')">Baja</button>
                                                        </div>

                                                        <!--<div class="col-lg-4 col">
                                                            <div class="row text-muted text-center">
                                                                <div class="col-6 border-end border-end-dashed">
                                                                    <h5 class="mb-1">0</h5>
                                                                    <p class="text-muted mb-0">Proyectos</p>
                                                                </div>
                                                                <div class="col-6">
                                                                    <h5 class="mb-1">0</h5>
                                                                    <p class="text-muted mb-0">Tareas</p>
                                                                </div>
                                                            </div>
                                                        </div>-->
                                                        <div class="col-lg-2 col">
                                                                <button
                                                                    class="btn btn-light view-btn" style="width: 100%;"  data-bs-target="#showModal" (click)="openModal3(content3, 'single', s)">Configurar elementos</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--end card-->
                                        </div>
                                    </div>
                                    
                                    <div *ngIf="s.tipoParte != 'Artículo'">
                                       <h5 style="color: #405189;"> {{s.articulo ? s.articulo : s.tipoParte}} </h5> 
                                    </div>
                                    
                                        <ng-container *ngIf="s.hijas">
            
                                            <div class="col-xxl-12" *ngFor="let item of s.hijas | filter:term3">

                                                <ng-container [ngTemplateOutlet]="myArticles" 
                                                [ngTemplateOutletContext] ="{s: item }">
                                            </ng-container>
                                            
                                            </div>
                                        </ng-container>

                                </ng-template>

                                <ng-container *ngFor="let g of articles_proyects_group;let impar = odd;let par = even;">

                                <div class="card" style="box-shadow: none !important;">
                                    <!--<div class="card-header">
                                        <div class="p-3 d-flex flex-column h-100">
                                            <div class="d-flex align-items-center pb-3 border-bottom border-bottom-dashed">-->


                                                    <!--<button type="button" class="btn btn-icon btn-sm fs-16 close-btn-overview" style="cursor: pointer;float: right;">
                                                        <span class="hamburger-icon">
                                                        <span></span>
                                                        <span></span>
                                                        <span></span>
                                                    </span>
                                                    </button>-->
                                            <!--</div>
                                        </div>
                                    </div>-->
                                    <div class="card-body" [ngClass]="{'tono1': impar, 'tono2': par}">
                                        
                                        <h4 class="flex-grow-1 fw-semibold mb-0" style="color: #405189;">{{g.cuerpoLegal}}
                                            <span class="float-end" style="font-size: 20px;cursor:pointer;"><i class=" ri-arrow-up-s-line" (click)="hideArticles(g.normaId)" *ngIf="!validateShowArticles(g.normaId)"></i></span>
                                            <span class="float-end" style="font-size: 20px;cursor:pointer;" (click)="showArticles(g.normaId)" *ngIf="validateShowArticles(g.normaId)"><i class=" ri-arrow-down-s-line"></i></span>
                                        </h4>
                                        <p>{{g.organismo}}</p>
                                    <ng-container *ngIf="!validateShowArticles(g.normaId)">
                                    <ng-container *ngFor="let s of g.articulos | filter:term3">
            
                                        <ng-container [ngTemplateOutlet]="myArticles" 
                                        [ngTemplateOutletContext] ="{s:s }">
                                        </ng-container>
                            
                                    </ng-container>
                                    </ng-container>
                                    </div>
                                </div>
                                </ng-container>
                            </div>
                        </div>
                    <!--</div>
            </div>-->
        </div>
    </div>
</div>
</div>
    <div class="row mb-4 justify-content-end text-sm-end" style="padding: 0px;position: sticky;bottom: 40px;">
        <div class="col-sm-12"> 
            <div class="row"><!--class="row justify-content-end"-->
                <div class="col-sm-12">
                <button type="button" class="btn btn-primary btn-label waves-effect right waves-light" (click)="siguiente()" [disabled]="cuerpo_installations.length < 1"><i class="ri-arrow-right-line label-icon align-middle fs-16 ms-2"></i> Siguiente</button>
                </div>
            </div>
        </div>
    </div>

<div class="row g-0 text-center justify-content-end text-sm-start align-items-center mb-4" style="padding: 0px;position: sticky;bottom: 75px;" *ngIf="selectCheckedVincular.length > 0">
    <div class="col-sm-12 mb-3">
        <div style="background: #F7B84B; box-shadow: 0px 17px 35px rgba(64, 81, 137, 0.20); border-radius: 2px; overflow: hidden; width: 100%; height: 100%;">
            <div class="col-sm-12">
                <div class="row mb-3 mt-3 align-items-center team-row">
                    <div class="col-sm-1">
                    </div>
                    <div class="col-sm-2" style="color: white; font-size: 14px; font-family: Poppins; font-weight: 400; line-height: 13.86px; word-wrap: break-word; margin: auto;">
                        {{selectCheckedVincular.length}} {{selectCheckedVincular.length > 1 ? 'Artículos Seleccionados' : 'Artículo Seleccionado'}}
                    </div>
                    
                    <div class="col-xs-1 col" style="border-left: 3px solid #fff;">
                        <button
                                class="btn view-btn mb-2" [ngClass]="validateAttributeAll('articuloTipo','permiso') ? 'btn-success' :'btn-light'" style="width: 100%;" (click)="setAttributeAll('articuloTipo','permiso')">Permiso</button>
                                
                        <button
                        class="btn view-btn mb-2" [ngClass]="validateAttributeAll('articuloTipo','reporte') ? 'btn-success' :'btn-light'" style="width: 100%;" (click)="setAttributeAll('articuloTipo','reporte')">Reporte</button>
                        
                        <button
                                class="btn view-btn mb-2" [ngClass]="validateAttributeAll('articuloTipo','monitoreo') ? 'btn-success' :'btn-light'" style="width: 100%;"  (click)="setAttributeAll('articuloTipo','monitoreo')"  >Monitoreo</button>
                    </div>
                    
                    <!--<div class="col-xs-1 col" style="margin: auto;border-left: 3px solid #fff;padding-top: 20px;padding-bottom: 20px;">
                        <select class="form-select mb-2" name="componente">
                        <option value="bg-soft-success">Componente</option>
                        </select>

                        <select class="form-select mb-2" name="subcomponente">
                            <option value="bg-soft-success">Sub Componente</option>
                            </select>
                    </div>-->
                    
                    <div class="col-xs-1 col" style="border-left: 3px solid #fff;">
                        <button
                                class="btn view-btn mb-2" style="width: 100%;" [ngClass]="validateAttributeAll('construccion', 'construccion') ? 'btn-success' :'btn-light'" (click)="setAttributeAll('construccion', 'construccion')">Alta</button>
                                
                        <button
                        class="btn view-btn mb-2" style="width: 100%;" [ngClass]="validateAttributeAll('operacion', 'operacion') ? 'btn-success' :'btn-light'" (click)="setAttributeAll('operacion', 'operacion')" >Media</button>
                        
                        <button
                                class="btn view-btn mb-2" style="width: 100%;" [ngClass]="validateAttributeAll('cierre', 'cierre') ? 'btn-success' :'btn-light'" (click)="setAttributeAll('cierre', 'cierre')">Baja</button>
                    </div>
                    <div class="col-sm-2" style="border-left: 3px solid #fff;display: grid;">
                        <button type="button" class="btn btn-primary waves-effect waves-light" style="color: #634A1F;font-family: Poppins;font-weight: 400;background-color: #fff;margin:auto;" data-bs-target="#showModal" (click)="openModal3(content3, 'multiple')">Configurar Elementos</button>
                    </div>
                    <div class="col-sm-2" style="border-left: 3px solid #fff;display: grid;">
                        <button type="button" class="btn btn-success waves-effect waves-light" style="font-family: Poppins;border-radius: 24px;margin: auto;" (click)="setAttributeArticleAll()">Aplicar a todos</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    
<!-- Add Instalaciones -->
<ng-template #content3 role="document" let-modal>
    <div class="modal-header bg-light p-3">
        <h5 class="modal-title" id="exampleModalLabel">Vincular Elementos</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar" id="close-modal"
            (click)="modal.dismiss('Cross click')"></button>
    </div>
    <form (ngSubmit)="saveVinculacion()" [formGroup]="vinculacionForm" class="tablelist-form" autocomplete="off">
        <div class="modal-body">
            <h4 class="text-center mb-4">Seleccionar los elementos a gestionar</h4>

            <input type="hidden" name="id" value="" formControlName="ids" />

            <div class="mb-3" id="modal-id" style="display: none;">
                <label for="id-field" class="form-label">ID</label>
                <input type="text" id="id-field" formControlName="id" class="form-control" placeholder="ID" readonly />
            </div>

            <div class="mb-3">
                <div class="search-box">
                    <input type="text" class="form-control" placeholder="Buscar elemento..." formControlName="search" [(ngModel)]="term7"><!--"service.searchTerm"-->
                    <i class="ri-search-line search-icon"></i>
                </div>
            </div>

            <div class="mb-3">
                <!--<div class="list-group">-->
                <ul class="list-group">
                    <ng-container *ngFor="let o of installations_filter | filter:term7">
                        <!--<label class="list-group-item">
                        <input class="form-check-input me-1" type="checkbox" value="{{o.id}}" name="checkAll3"
                        id="{{o.id}}" (change)="onCheckboxChange3($event)">checked
                        {{o.nombre}}
                        </label>-->
                            
                            <!--<li class="list-group-item mb-3 border card-border-success"><i class="mdi mdi-check-circle align-middle lh-1 me-2 text-success"></i> {{o.nombre}}</li>
                            <li class="list-group-item mb-3"><i class="mdi mdi-alert-circle align-middle lh-1 me-2 text-warning"></i> {{o.nombre}}</li>-->
                            <li class="list-group-item mb-3 border" style="cursor: pointer;" [ngClass]="{'card-border-success': validChecked4(o.id) == 1, 'card-border-warning': validChecked4(o.id) == 2 }" >
                                <div class="d-flex align-items-center">
                                    <div class="flex-grow-1">
                                    <div class="d-flex align-items-center">
                                    <div class="flex-shrink-0"><!--avatar-xs-->
                                           <i class="mdi align-middle lh-1 me-2"  [ngClass]="{'mdi-check-circle text-success': validChecked4(o.id) == 1, 'mdi-alert-circle text-warning': validChecked4(o.id) == 2,'mdi-checkbox-blank-circle text-gray': validChecked4(o.id) == null || validChecked4(o.id) == 0 }"></i>
                                    </div>
                                    <div class="flex-shrink-0 ms-2">
                                        {{o.nombre}}
                                    </div>
                                    </div>
                                    </div> 
                                    
                                    <div class="flex-shrink-0">
                                        <div class="form-check form-check-inline form-radio-danger">
                                            <input class="form-check-input" type="radio" name="{{o.id}}-estado" id="{{o.id}}-estado0" value="{{o.id}}-0" (change)="onCheckboxChange5(o.id, 0)" [checked]="validChecked4(o.id) == 0 || validChecked4(o.id) == null">
                                            <label class="form-check-label" for="{{o.id}}-estado0">No gestionar</label>
                                        </div>
                                        <div class="form-check form-check-inline form-radio-warning">
                                            <input class="form-check-input" type="radio" name="{{o.id}}-estado" id="{{o.id}}-estado2" value="{{o.id}}-2" (change)="onCheckboxChange5(o.id, 2)" [checked]="validChecked4(o.id) == 2">
                                            <label class="form-check-label" for="{{o.id}}-estado2">Por Definir</label>
                                        </div>
                                        <div class="form-check form-check-inline form-radio-success">
                                            <input class="form-check-input" type="radio" name="{{o.id}}-estado" id="{{o.id}}-estado1" value="{{o.id}}-1" (change)="onCheckboxChange5(o.id, 1)" [checked]="validChecked4(o.id) == 1">
                                            <label class="form-check-label" for="{{o.id}}-estado1">Gestionar</label>
                                        </div>
                                    </div>
                                
                                </div>
                            </li>
                                
                    </ng-container>
                </ul>
            </div>

        </div>
        <div class="modal-footer">
            <div class="hstack gap-2 justify-content-end">
                <button type="submit" class="btn btn-success" id="add-btn">Vincular</button>
            </div>
        </div>
    </form>
</ng-template>

</ng-template>

<ng-template #TabContent3>

    <div><!-- class="card"-->  
        <div><!-- class="card-body"-->  
    <ul ngbNav #Pills="ngbNav" [activeId]="1" class="nav nav-tabs mb-3" style="background: #fff;padding-top: 20px;"><!--nav nav-pills nav-primary mb-3-->
        
        <li [ngbNavItem]="1"><!--class="nav-item waves-effect waves-light"-->
            <a ngbNavLink>
                <span class="d-sm-block">Dashboard</span>
            </a>
            <ng-template ngbNavContent>
                <!--<div class="row">
                    <div class="col-sm-12">
                        <div class="row mb-3">
                            
                            <div class="col-md-4">
                                <div class="card card-animate">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <p class="fw-medium text-muted mb-0">Cuerpos legales identificados</p>
                                                <h2 class="mt-4 ff-secondary fw-semibold">
                                                    <span [CountTo]="articles_proyects_group.length" class="counter-value" [from]="0" [duration]="1"></span>
                                                </h2>
                                            </div>
                                            <div>
                                                <div class="avatar-sm flex-shrink-0">
                                                    <span class="avatar-title bg-soft-info rounded-circle fs-2">
                                                        <i-feather name="users" class="text-info feather-icon-align"></i-feather>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <div class="card card-animate">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <p class="fw-medium text-muted mb-0">Cuerpos legales aplicables</p>
                                                <h2 class="mt-4 ff-secondary fw-semibold">
                                                    <span [CountTo]="countCuerposLegales()" class="counter-value" [from]="0" [duration]="1"></span>
                                                </h2>
                                            </div>
                                            <div>
                                                <div class="avatar-sm flex-shrink-0">
                                                    <span class="avatar-title bg-soft-info rounded-circle fs-2">
                                                        <i-feather name="users" class="text-info feather-icon-align"></i-feather>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                  </div>-->
                  <div class="align-items-xl-center d-xl-flex mb-3">
                    <p class="text-muted flex-grow-1 mb-xl-0"></p>
                    <div class="flex-shrink-0">
                      <ul ngbNav #Header="ngbNav" [activeId]="1" class="nav nav-pills card-header-pills">
                        <li [ngbNavItem]="1">
                            <a ngbNavLink>
                              Operación
                            </a>
                            <ng-template ngbNavContent>
                  <div class="row g-4 mb-3">
                    
                    <!--<div class="col-2">-->
                        <div class="chip">
                            Corporativo
                            <!--<span class="closebtn" onclick="this.parentElement.style.display='none'">&times;</span>-->
                        </div>
                    <!--</div>-->
                    <ng-container *ngFor="let arc of areas_select_chart;">
                        <!--<div class="col-2">-->
                            <div class="chip">
                                {{arc.nombre}}
                                <span class="closebtn" (click)="deleteAreaChart(arc.id)">&times;</span><!-- onclick="this.parentElement.style.display='none'"-->
                            </div>
                        <!--</div>-->
                    </ng-container>
                  </div>
                  <div class="row g-4 mb-3">
                    <div class="col-12">

                        <div class="btn-group" style="width: 100%;" ngbDropdown>
                            
                            <button type="button" class="btn btn-primary" style="
                            width: 100%;
                            text-align: left;
                        ">Selecciona el área</button>    
                            <button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle></button>
                            <div class="dropdown-menu dropdown-menu-dark"  style="width: 100%;" ngbDropdownMenu>
                                <!--<a class="dropdown-item" [ngClass]="!area_chart ? 'active' : ''" href="javascript:void(0);" (click)="selectAreaChart()">Todos</a>-->
                                <ng-container *ngFor="let ar of areas_chart;">
                                    <a class="dropdown-item" href="javascript:void(0);" (click)="selectAreaChart(ar.id)">{{ar.nombre}}</a>
                                </ng-container>
                            </div>
                        </div>

                    </div>
                    <div class="col-6">

                        <div class="btn-group" style="width: 100%;" ngbDropdown>
                            
                            <button type="button" class="btn btn-light dropdown-toggle dropdown-disable" style="
                            width: 100%;
                            text-align: left;
                            background: white;
                        " data-bs-toggle="dropdown"  aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>{{ !tipo ? 'Tipo de Vinculación' : tipo }}</button>    
                            <button type="button" class="btn btn-light dropdown-toggle dropdown-toggle-split ml-auto" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle></button>
                            <div class="dropdown-menu dropdown-menu-dark"  style="width: 100%;" ngbDropdownMenu>
                                <a class="dropdown-item" [ngClass]="!tipo ? 'active' : ''" href="javascript:void(0);" (click)="selectTipo()">Todos</a>
                                <a class="dropdown-item" [ngClass]="tipo && tipo == 'Gestionar' ? 'active' : ''" href="javascript:void(0);" (click)="selectTipo('Gestionar')">Gestionar</a>
                                <a class="dropdown-item" [ngClass]="tipo && tipo == 'Por definir' ? 'active' : ''" href="javascript:void(0);" (click)="selectTipo('Por definir')">Por definir</a>
                            </div>
                        </div>

                    </div>
                    
                    <div class="col-6">

                        <div class="btn-group" style="width: 100%;" ngbDropdown>
                            
                            <button type="button" class="btn btn-light  dropdown-toggle dropdown-disable" style="
                            width: 100%;
                            text-align: left;
                            background: white;
                        " data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle [disabled]="!tipo">{{ !criticidad ? 'Criticidad' : criticidad }}</button>    
                            <button type="button" class="btn btn-light dropdown-toggle dropdown-toggle-split ml-auto" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle [disabled]="!tipo"></button>
                            <div class="dropdown-menu dropdown-menu-dark"  style="width: 100%;" ngbDropdownMenu>
                                <a class="dropdown-item" [ngClass]="!criticidad ? 'active' : ''" href="javascript:void(0);" (click)="selectCriticidad()">Ninguno</a>
                                <a class="dropdown-item" [ngClass]="criticidad && criticidad == 'Todos' ? 'active' : ''" href="javascript:void(0);" (click)="selectCriticidad('Todos')">Todos</a>
                                <a class="dropdown-item" [ngClass]="criticidad && criticidad == 'Alta' ? 'active' : ''" href="javascript:void(0);" (click)="selectCriticidad('Alta')">Alta</a>
                                <a class="dropdown-item" [ngClass]="criticidad && criticidad == 'Media' ? 'active' : ''" href="javascript:void(0);" (click)="selectCriticidad('Media')">Media</a>
                                <a class="dropdown-item" [ngClass]="criticidad && criticidad == 'Baja' ? 'active' : ''" href="javascript:void(0);" (click)="selectCriticidad('Baja')">Baja</a>
                                <a class="dropdown-item" [ngClass]="criticidad && criticidad == 'Otros' ? 'active' : ''" href="javascript:void(0);" (click)="selectCriticidad('Otros')">Otros</a>
                            </div>
                        </div>

                    </div>
                  </div>

                <div class="row">
                    <div class="col-xl-3 col-md-3">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">CUERPOS LEGALES</p>
                                        
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        
                                        <h4 class="fs-1">
                                            <span class="counter-value">{{getDataDashboard('cuerpos') < 1 ? 0 : getDataDashboard('cuerpos')}}</span></h4><!--[CountTo]="getDataDashboard('cuerpos')" 
                                            [from]="0" [duration]="1"  countCuerposLegales()-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-xl-3 col-md-3">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">ARTÍCULOS APLICABLES</p>
                                        
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        <h4 class="fs-1"><span class="counter-value"
                                                >{{getDataDashboard('articulos') < 1 ? 0 : getDataDashboard('articulos')}}</span></h4><!-- [CountTo]="getDataDashboard('articulos')" [from]="0" [duration]="1" countArticulos(true)-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-xl-3 col-md-3">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">INSTANCIAS DE CUMPLIMIENTO</p>
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        
                                        <h4 class="fs-1"><span class="counter-value"
                                                >{{getDataDashboard('instancias') < 1 ? 0 : getDataDashboard('instancias')}}</span></h4><!-- [CountTo]="getDataDashboard('instancias')" [from]="0" [duration]="1" countArticulos(false) * countElementos()-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                    
                    
                    <div class="col-xl-3 col-md-3">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">ELEMENTOS Y ACTIVIDADES</p>
                                        
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        <h4 class="fs-1"><span class="counter-value"
                                                >{{getDataDashboard('elementos') < 1 ? 0 : getDataDashboard('elementos')}}</span></h4><!-- [CountTo]="getDataDashboard('elementos')" [from]="0" [duration]="1" countElementos()-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                
                </div>
                            
                <div class="row">
                    <div class="col-xl-3 col-md-3">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">PERMISOS</p>
                                        
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        <h4 class="fs-1"><span class="counter-value"
                                                >{{getDataDashboard('permisos') < 1 ? 0 : getDataDashboard('permisos')}}</span></h4><!--[CountTo]="getDataDashboard('permisos')" [from]="0" [duration]="1" countAtributo('permiso')-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-xl-3 col-md-3">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">REPORTES</p>
                                        
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        <h4 class="fs-1"><span class="counter-value"
                                                >{{getDataDashboard('reportes') < 1 ? 0 : getDataDashboard('reportes')}}</span></h4><!--[from]="0" [duration]="1" [CountTo]="getDataDashboard('reportes')" countAtributo('reporte')-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-xl-3 col-md-3">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">MONITOREOS</p>
                                        
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        <h4 class="fs-1"><span  class="counter-value"
                                                >{{getDataDashboard('monitoreos') < 1 ? 0 : getDataDashboard('monitoreos')}}</span></h4><!--[CountTo]="getDataDashboard('monitoreos')" [from]="0" [duration]="1" countAtributo('monitoreo')-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                    
                    
                    <div class="col-xl-3 col-md-3">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">OTRAS OBLIGACIONES</p>
                                        
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        <h4 class="fs-1"><span  class="counter-value"
                                                >{{getDataDashboard('otros') < 1 ? 0 : getDataDashboard('otros')}}</span></h4><!--[CountTo]="getDataDashboard('otros')" [from]="0" [duration]="1" countAtributo()-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                
                </div>
                
                                <div class="row mb-3 align-items-center justify-content-center">
                                    <h4>Aplicabilidad</h4>
                
                                    <div class="col-sm-4">
                                        <div class="card">
                                            <div class="card-body">
                
                                        <h4>Cuerpos Legales</h4>
                                        <!--<apx-chart [series]="basicBarChartCuerpos.series" [chart]="basicBarChartCuerpos.chart" [dataLabels]="basicBarChartCuerpos.dataLabels" [legend]="basicBarChartCuerpos.legend" [plotOptions]="basicBarChartCuerpos.plotOptions" [xaxis]="basicBarChartCuerpos.xaxis" [colors]="basicBarChartCuerpos.colors" dir="ltr"></apx-chart>-->
                
                                        <apx-chart [series]="simpleDonutChartCuerpos.series" [chart]="simpleDonutChartCuerpos.chart"
                                        [labels]="simpleDonutChartCuerpos.labels" [responsive]="simpleDonutChartCuerpos.responsive"
                                        [legend]="simpleDonutChartCuerpos.legend" [dataLabels]="simpleDonutChartCuerpos.dataLabels"
                                        [colors]="simpleDonutChartCuerpos.colors" dir="ltr"></apx-chart>
                                            </div>
                                        </div>
                                    </div>
                
                                    <div class="col-sm-4">
                                        <div class="card">
                                            <div class="card-body">
                
                                        <h4>Artículos</h4>
                                        
                                        <apx-chart [series]="simpleDonutChartArticulos.series" [chart]="simpleDonutChartArticulos.chart"
                                        [labels]="simpleDonutChartArticulos.labels" [responsive]="simpleDonutChartArticulos.responsive"
                                        [legend]="simpleDonutChartArticulos.legend" [dataLabels]="simpleDonutChartArticulos.dataLabels"
                                        [colors]="simpleDonutChartArticulos.colors" dir="ltr"></apx-chart>
                                            </div>
                                        </div>
                
                                    </div>
                  
                                    <div class="col-sm-4">
                                        <div class="card">
                                            <div class="card-body">
                
                                        <h4>Instancias de cumplimiento</h4>
                                        <apx-chart [series]="simpleDonutChartInstancias.series" [chart]="simpleDonutChartInstancias.chart"
                                        [labels]="simpleDonutChartInstancias.labels" [responsive]="simpleDonutChartInstancias.responsive"
                                        [legend]="simpleDonutChartInstancias.legend" [dataLabels]="simpleDonutChartInstancias.dataLabels"
                                        [colors]="simpleDonutChartInstancias.colors" dir="ltr"></apx-chart>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row mb-3 align-items-center justify-content-center">
                                    
                                    <div class="col-sm-3">
                                        <div class="card">
                                            <div class="card-body">
                
                                        <h4>Permisos</h4>
                                        <apx-chart [series]="simpleDonutChartPermisos.series" [chart]="simpleDonutChartPermisos.chart"
                                        [labels]="simpleDonutChartPermisos.labels" [responsive]="simpleDonutChartPermisos.responsive"
                                        [legend]="simpleDonutChartPermisos.legend" [dataLabels]="simpleDonutChartPermisos.dataLabels"
                                        [colors]="simpleDonutChartPermisos.colors" dir="ltr"></apx-chart>
                                            </div>
                                        </div>
                
                                    </div>
                
                                    <div class="col-sm-3">
                                        <div class="card">
                                            <div class="card-body">
                
                                        <h4>Reportes</h4>
                                        
                                        <apx-chart [series]="simpleDonutChartReportes.series" [chart]="simpleDonutChartReportes.chart"
                                        [labels]="simpleDonutChartReportes.labels" [responsive]="simpleDonutChartReportes.responsive"
                                        [legend]="simpleDonutChartReportes.legend" [dataLabels]="simpleDonutChartReportes.dataLabels"
                                        [colors]="simpleDonutChartReportes.colors" dir="ltr"></apx-chart>
                                            </div>
                                        </div>
                
                                    </div>
                
                                    
                                    <div class="col-sm-3">
                                        <div class="card">
                                            <div class="card-body">
                
                                        <h4>Monitoreos</h4>
                                        <apx-chart [series]="simpleDonutChartMonitoreos.series" [chart]="simpleDonutChartMonitoreos.chart"
                                        [labels]="simpleDonutChartMonitoreos.labels" [responsive]="simpleDonutChartMonitoreos.responsive"
                                        [legend]="simpleDonutChartMonitoreos.legend" [dataLabels]="simpleDonutChartMonitoreos.dataLabels"
                                        [colors]="simpleDonutChartMonitoreos.colors" dir="ltr"></apx-chart>
                                            </div>
                                        </div>
                
                                    </div>
                
                                    <div class="col-sm-3">
                                        <div class="card">
                                            <div class="card-body">
                
                                        <h4>Otras obligaciones</h4>
                                        <apx-chart [series]="simpleDonutChartOtros.series" [chart]="simpleDonutChartOtros.chart"
                                        [labels]="simpleDonutChartOtros.labels" [responsive]="simpleDonutChartOtros.responsive"
                                        [legend]="simpleDonutChartOtros.legend" [dataLabels]="simpleDonutChartOtros.dataLabels"
                                        [colors]="simpleDonutChartOtros.colors" dir="ltr"></apx-chart>
                                            </div>
                                        </div>
                
                                    </div>
                                </div>

                                <div class="row mb-3 align-items-center justify-content-center">
                                    <h4>Información específica por área</h4>
                                    
                                    <div class="col-sm-12">
                                        
                                    <div class="card card-height-100">
                                        <div class="card-header align-items-center d-flex">
                                            <h4 class="flex-grow-1">Gestión por área</h4><!--card-title mb-0 -->
                                            <div class="d-flex gap-1">
                                                <button type="button" class="btn btn-sm" [ngClass]="select_gestion == 'cuerpoLegal' ? 'btn-soft-primary' : 'btn-soft-secondary'" (click)="selectGestion('cuerpoLegal')">
                                                    Cuerpos
                                                </button>
                                                <button type="button" class="btn btn-sm" [ngClass]="select_gestion == 'articulos' ? 'btn-soft-primary' : 'btn-soft-secondary'" (click)="selectGestion('articulos')">
                                                    Árticulos
                                                </button>
                                                <button type="button" class="btn btn-sm" [ngClass]="select_gestion == 'instancias' ? 'btn-soft-primary' : 'btn-soft-secondary'" (click)="selectGestion('instancias')">
                                                    Instancias
                                                </button>
                                            </div>
                                        </div>
                                        <div class="card-body p-0">
                                            <div>
                                                <apx-chart [series]="getSeries(criticidad, basicBarChartGeneral)" [colors]="basicBarChartGeneral.colors"
                                                    [chart]="getChart(criticidad, basicBarChartGeneral.chart)" [dataLabels]="basicBarChartGeneral.dataLabels"
                                                    [plotOptions]="basicBarChartGeneral.plotOptions" dir="ltr"
                                                    [xaxis]="basicBarChartGeneral.xaxis" [stroke]="basicBarChartGeneral.stroke"
                                                    [fill]="basicBarChartGeneral.fill" [title]="basicBarChartGeneral.title"
                                                    [tooltip]="basicBarChartGeneral.tooltip" [legend]="basicBarChartGeneral.legend"></apx-chart>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                </div>
                                
                                <div class="row mb-3 align-items-center justify-content-center">
                                    <div class="col-sm-6">
                                        
                                    <div class="card card-height-100">
                                        <div class="card-body">
                                            
                                            <h4>Permisos por área</h4>

                                                <apx-chart [series]="getSeries(criticidad, basicBarChartPermisos)" [colors]="basicBarChartPermisos.colors"
                                                [chart]="getChart(criticidad, basicBarChartPermisos.chart)" [dataLabels]="basicBarChartPermisos.dataLabels"
                                                    [plotOptions]="basicBarChartPermisos.plotOptions" dir="ltr"
                                                    [xaxis]="basicBarChartPermisos.xaxis" [stroke]="basicBarChartPermisos.stroke"
                                                    [fill]="basicBarChartPermisos.fill" [title]="basicBarChartPermisos.title"
                                                    [tooltip]="basicBarChartPermisos.tooltip" [legend]="basicBarChartPermisos.legend"></apx-chart>
                                            
                                        </div>
                                    </div>
                                    </div>
                                    <div class="col-sm-6">
                                        
                                        <div class="card card-height-100">
                                            <div class="card-body">
                                                
                                                <h4>Reportes por área</h4>
    
                                                    <apx-chart [series]="getSeries(criticidad, basicBarChartReportes)" [colors]="basicBarChartReportes.colors"
                                                        [chart]="getChart(criticidad, basicBarChartReportes.chart)" [dataLabels]="basicBarChartReportes.dataLabels"
                                                        [plotOptions]="basicBarChartReportes.plotOptions" dir="ltr" 
                                                        [xaxis]="basicBarChartReportes.xaxis" [stroke]="basicBarChartReportes.stroke"
                                                        [fill]="basicBarChartReportes.fill" [title]="basicBarChartReportes.title"
                                                        [tooltip]="basicBarChartReportes.tooltip" [legend]="basicBarChartReportes.legend"></apx-chart>
                                                
                                            </div>
                                        </div>
                                        </div>
                                </div>
                                
                                
                                <div class="row mb-3 align-items-center justify-content-center">
                                    <div class="col-sm-6">
                                        
                                    <div class="card card-height-100">
                                        <div class="card-body">
                                            
                                            <h4>Monitoreos por área</h4>

                                                <apx-chart [series]="getSeries(criticidad, basicBarChartMonitoreos)" [colors]="basicBarChartMonitoreos.colors"
                                                    [chart]="getChart(criticidad, basicBarChartMonitoreos.chart)" [dataLabels]="basicBarChartMonitoreos.dataLabels"
                                                    [plotOptions]="basicBarChartMonitoreos.plotOptions" dir="ltr" 
                                                    [xaxis]="basicBarChartMonitoreos.xaxis" [stroke]="basicBarChartMonitoreos.stroke"
                                                    [fill]="basicBarChartMonitoreos.fill" [title]="basicBarChartMonitoreos.title"
                                                    [tooltip]="basicBarChartMonitoreos.tooltip" [legend]="basicBarChartMonitoreos.legend"></apx-chart>
                                            
                                        </div>
                                    </div>
                                    </div>
                                    <div class="col-sm-6">
                                        
                                        <div class="card card-height-100">
                                            <div class="card-body">
                                                
                                                <h4>Otras Obligaciones por área</h4>
    
                                                    <apx-chart [series]="getSeries(criticidad, basicBarChartOtros)" [colors]="basicBarChartOtros.colors"
                                                        [chart]="getChart(criticidad, basicBarChartOtros.chart)" [dataLabels]="basicBarChartOtros.dataLabels"
                                                        [plotOptions]="basicBarChartOtros.plotOptions" dir="ltr"
                                                        [xaxis]="basicBarChartOtros.xaxis"  [stroke]="basicBarChartOtros.stroke"
                                                        [fill]="basicBarChartOtros.fill" [title]="basicBarChartOtros.title"
                                                        [tooltip]="basicBarChartOtros.tooltip" [legend]="basicBarChartOtros.legend"></apx-chart>
                                                
                                            </div>
                                        </div>
                                        </div>
                                </div>
                
                                <div class="row mb-3 align-items-center justify-content-center">
                                    <h4>Ámbito normativo a gestionar</h4>
                                    
                                    <div class="col-sm-4">
                                        <div class="card">
                                            <div class="card-body">
                
                                        <h4>Cuerpos Legales</h4>
                
                                        <apx-chart [series]="simpleDonutChartCuerposAmbito.series" [chart]="simpleDonutChartCuerposAmbito.chart"
                                        [labels]="simpleDonutChartCuerposAmbito.labels" [responsive]="simpleDonutChartCuerposAmbito.responsive"
                                        [legend]="simpleDonutChartCuerposAmbito.legend" [dataLabels]="simpleDonutChartCuerposAmbito.dataLabels"
                                        [colors]="simpleDonutChartCuerposAmbito.colors" dir="ltr"></apx-chart>
                                            </div>
                                        </div>
                                    </div>
                
                                    <div class="col-sm-4">
                                        <div class="card">
                                            <div class="card-body">
                
                                        <h4>Artículos</h4>
                                        
                                        <apx-chart [series]="simpleDonutChartArticulosAmbito.series" [chart]="simpleDonutChartArticulosAmbito.chart"
                                        [labels]="simpleDonutChartArticulosAmbito.labels" [responsive]="simpleDonutChartArticulosAmbito.responsive"
                                        [legend]="simpleDonutChartArticulosAmbito.legend" [dataLabels]="simpleDonutChartArticulosAmbito.dataLabels"
                                        [colors]="simpleDonutChartArticulosAmbito.colors" dir="ltr"></apx-chart>
                                            </div>
                                        </div>
                                    </div>
                
                                    
                                    <div class="col-sm-4">
                                        <div class="card">
                                            <div class="card-body">
                
                                        <h4>Instancias</h4>
                                        <apx-chart [series]="simpleDonutChartInstanciasAmbito.series" [chart]="simpleDonutChartInstanciasAmbito.chart"
                                        [labels]="simpleDonutChartInstanciasAmbito.labels" [responsive]="simpleDonutChartInstanciasAmbito.responsive"
                                        [legend]="simpleDonutChartInstanciasAmbito.legend" [dataLabels]="simpleDonutChartInstanciasAmbito.dataLabels"
                                        [colors]="simpleDonutChartInstanciasAmbito.colors" dir="ltr"></apx-chart>
                                            </div>
                                        </div>
                
                                    </div>
                                </div>

                                <div class="row mb-3 align-items-center justify-content-center">
                                    
                                    <h4>Información específica por Elemento y actividad</h4>
                                    <div class="col-sm-12">
                                        
                                    <div class="card card-height-100">
                                        <div class="card-header align-items-center d-flex">
                                            <h4 class="flex-grow-1">Gestión por Elemento y actividad</h4><!--card-title mb-0 -->
                                            <div class="d-flex gap-1">
                                                <button type="button" class="btn btn-sm" [ngClass]="select_gestion_instalacion == 'cuerpoLegal' ? 'btn-soft-primary' : 'btn-soft-secondary'" (click)="selectGestionInstalacion('cuerpoLegal')">
                                                    Cuerpos
                                                </button>
                                                <button type="button" class="btn btn-sm" [ngClass]="select_gestion_instalacion == 'articulos' ? 'btn-soft-primary' : 'btn-soft-secondary'" (click)="selectGestionInstalacion('articulos')">
                                                    Árticulos
                                                </button>
                                                <button type="button" class="btn btn-sm" [ngClass]="select_gestion_instalacion == 'instancias' ? 'btn-soft-primary' : 'btn-soft-secondary'" (click)="selectGestionInstalacion('instancias')">
                                                    Instancias
                                                </button>
                                            </div>
                                        </div>
                                        <div class="card-body p-0">
                                            <div>
                                                <apx-chart [series]="getSeries(criticidad, basicBarChartGeneralInstallation)" [colors]="basicBarChartGeneralInstallation.colors"
                                                    [chart]="getChart(criticidad, basicBarChartGeneralInstallation.chart)" [dataLabels]="basicBarChartGeneralInstallation.dataLabels"
                                                    [plotOptions]="basicBarChartGeneralInstallation.plotOptions" dir="ltr"
                                                    [xaxis]="basicBarChartGeneralInstallation.xaxis" [stroke]="basicBarChartGeneralInstallation.stroke"
                                                    [fill]="basicBarChartGeneralInstallation.fill" [title]="basicBarChartGeneralInstallation.title"
                                                    [tooltip]="basicBarChartGeneralInstallation.tooltip" [legend]="basicBarChartGeneralInstallation.legend"></apx-chart>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                </div>
                                
                                <div class="row mb-3 align-items-center justify-content-center">
                                    <div class="col-sm-6">
                                        
                                    <div class="card card-height-100">
                                        <div class="card-body">
                                            
                                            <h4>Permisos por Elemento y actividad</h4>

                                                <apx-chart [series]="getSeries(criticidad, basicBarChartPermisosInstallations)" [colors]="basicBarChartPermisosInstallations.colors"
                                                    [chart]="getChart(criticidad, basicBarChartPermisosInstallations.chart)" [dataLabels]="basicBarChartPermisosInstallations.dataLabels"
                                                    [plotOptions]="basicBarChartPermisosInstallations.plotOptions" dir="ltr" 
                                                    [xaxis]="basicBarChartPermisosInstallations.xaxis" [stroke]="basicBarChartPermisosInstallations.stroke"
                                                    [fill]="basicBarChartPermisosInstallations.fill" [title]="basicBarChartPermisosInstallations.title"
                                                    [tooltip]="basicBarChartPermisosInstallations.tooltip" [legend]="basicBarChartPermisosInstallations.legend"></apx-chart>
                                            
                                        </div>
                                    </div>
                                    </div>
                                    <div class="col-sm-6">
                                        
                                        <div class="card card-height-100">
                                            <div class="card-body">
                                                
                                                <h4>Reportes por Elemento y actividad</h4>
    
                                                    <apx-chart [series]="getSeries(criticidad, basicBarChartReportesInstallations)" [colors]="basicBarChartReportesInstallations.colors"
                                                        [chart]="getChart(criticidad, basicBarChartReportesInstallations.chart)" [dataLabels]="basicBarChartReportesInstallations.dataLabels"
                                                        [plotOptions]="basicBarChartReportesInstallations.plotOptions" dir="ltr" 
                                                        [xaxis]="basicBarChartReportesInstallations.xaxis" [stroke]="basicBarChartReportesInstallations.stroke"
                                                        [fill]="basicBarChartReportesInstallations.fill" [title]="basicBarChartReportesInstallations.title"
                                                        [tooltip]="basicBarChartReportesInstallations.tooltip" [legend]="basicBarChartReportesInstallations.legend"></apx-chart>
                                                
                                            </div>
                                        </div>
                                        </div>
                                </div>
                                
                                
                                <div class="row mb-3 align-items-center justify-content-center">
                                    <div class="col-sm-6">
                                        
                                    <div class="card card-height-100">
                                        <div class="card-body">
                                            
                                            <h4>Monitoreos por Elemento y actividad</h4>

                                                <apx-chart [series]="getSeries(criticidad, basicBarChartMonitoreosInstallations)" [colors]="basicBarChartMonitoreosInstallations.colors"
                                                    [chart]="getChart(criticidad, basicBarChartMonitoreosInstallations.chart)" [dataLabels]="basicBarChartMonitoreosInstallations.dataLabels"
                                                    [plotOptions]="basicBarChartMonitoreosInstallations.plotOptions" dir="ltr" 
                                                    [xaxis]="basicBarChartMonitoreosInstallations.xaxis" [stroke]="basicBarChartMonitoreosInstallations.stroke"
                                                    [fill]="basicBarChartMonitoreosInstallations.fill" [title]="basicBarChartMonitoreosInstallations.title"
                                                    [tooltip]="basicBarChartMonitoreosInstallations.tooltip" [legend]="basicBarChartMonitoreosInstallations.legend"></apx-chart>
                                            
                                        </div>
                                    </div>
                                    </div>
                                    <div class="col-sm-6">
                                        
                                        <div class="card card-height-100">
                                            <div class="card-body">
                                                
                                                <h4>Otras Obligaciones por Elemento y actividad</h4>
    
                                                    <apx-chart [series]="getSeries(criticidad, basicBarChartOtrosInstallations)" [colors]="basicBarChartOtrosInstallations.colors"
                                                        [chart]="getChart(criticidad, basicBarChartOtrosInstallations.chart)" [dataLabels]="basicBarChartOtrosInstallations.dataLabels"
                                                        [plotOptions]="basicBarChartOtrosInstallations.plotOptions" dir="ltr" 
                                                        [xaxis]="basicBarChartOtrosInstallations.xaxis" [stroke]="basicBarChartOtrosInstallations.stroke"
                                                        [fill]="basicBarChartOtrosInstallations.fill" [title]="basicBarChartOtrosInstallations.title"
                                                        [tooltip]="basicBarChartOtrosInstallations.tooltip" [legend]="basicBarChartOtrosInstallations.legend"></apx-chart>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </ng-template>
                        </li>
                        <li [ngbNavItem]="2">
                            <a ngbNavLink>
                              Cuerpo Legal
                            </a>
                            <ng-template ngbNavContent>
                                
                                <div class="row g-4 mb-3">    
                                    <div class="col-12">
                
                                        <div class="btn-group" style="width: 100%;" ngbDropdown>
                                            
                                            <button type="button" class="btn btn-light" style="
                                            width: 100%;
                                            text-align: left;
                                            background: white;
                                        ">{{ !filtro_cuerpo ? 'CUERPO LEGAL' : filtro_cuerpo }}</button>    
                                            <button type="button" class="btn btn-light dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle></button>
                                            <div class="dropdown-menu dropdown-menu-dark"  style="width: 100%;" ngbDropdownMenu>
                                                <!--<a class="dropdown-item" [ngClass]="!filtro_cuerpo ? 'active' : ''" href="javascript:void(0);" (click)="selectCuerpoFiltro()">Todos</a>-->
                                                
                                                <ng-container *ngFor="let g of articles_proyects_group;">
                                                    
                                                <a class="dropdown-item" [ngClass]="filtro_cuerpo && filtro_cuerpo == g.cuerpoLegal ? 'active' : ''" href="javascript:void(0);" (click)="selectCuerpoFiltro(g.cuerpoLegal,g.normaId)">{{g.cuerpoLegal}}</a>

                                                </ng-container>
                                            </div>
                                        </div>
                
                                    </div>
                                </div>
                                  <div class="row g-4 mb-3">
                                    
                                    <div class="col-3">
                
                                        <div class="btn-group" style="width: 100%;" ngbDropdown>
                                            
                                            <button type="button" class="btn btn-light dropdown-toggle dropdown-disable" style="
                                            width: 100%;
                                            text-align: left;
                                            background: white;
                                        " data-bs-toggle="dropdown"  aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>{{ !tipo_cuerpo ? 'Tipo de Vinculación' : tipo_cuerpo }}</button>    
                                            <button type="button" class="btn btn-light dropdown-toggle dropdown-toggle-split ml-auto" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle></button>
                                            <div class="dropdown-menu dropdown-menu-dark" style="width: 100%;" ngbDropdownMenu>
                                                <a class="dropdown-item" [ngClass]="!tipo_cuerpo ? 'active' : ''" href="javascript:void(0);" (click)="selectTipoCuerpo()">Todos</a>
                                                <a class="dropdown-item" [ngClass]="tipo_cuerpo && tipo_cuerpo == 'Gestionar' ? 'active' : ''" href="javascript:void(0);" (click)="selectTipoCuerpo('Gestionar')">Gestionar</a>
                                                <a class="dropdown-item" [ngClass]="tipo_cuerpo && tipo_cuerpo == 'Por definir' ? 'active' : ''" href="javascript:void(0);" (click)="selectTipoCuerpo('Por definir')">Por definir</a>
                                            </div>
                                        </div>
                
                                    </div>
                                    
                                    <div class="col-3">
                
                                        <div class="btn-group" style="width: 100%;" ngbDropdown>
                                            
                                            <button type="button" class="btn btn-light dropdown-toggle dropdown-disable" style="
                                            width: 100%;
                                            text-align: left;
                                            background: white;
                                        " data-bs-toggle="dropdown"  aria-haspopup="true" aria-expanded="false" ngbDropdownToggle [disabled]="!tipo_cuerpo">{{ !criticidad_cuerpo ? 'Criticidad' : criticidad_cuerpo }}</button>    
                                            <button type="button" class="btn btn-light dropdown-toggle dropdown-toggle-split ml-auto" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle [disabled]="!tipo_cuerpo"></button>
                                            <div class="dropdown-menu dropdown-menu-dark"  style="width: 100%;" ngbDropdownMenu>
                                                <a class="dropdown-item" [ngClass]="!criticidad_cuerpo ? 'active' : ''" href="javascript:void(0);" (click)="selectCriticidadCuerpo()">Ninguno</a>
                                                <a class="dropdown-item" [ngClass]="criticidad && criticidad == 'Todos' ? 'active' : ''" href="javascript:void(0);" (click)="selectCriticidadCuerpo('Todos')">Todos</a>
                                                <a class="dropdown-item" [ngClass]="criticidad_cuerpo && criticidad_cuerpo == 'Alta' ? 'active' : ''" href="javascript:void(0);" (click)="selectCriticidadCuerpo('Alta')">Alta</a>
                                                <a class="dropdown-item" [ngClass]="criticidad_cuerpo && criticidad_cuerpo == 'Media' ? 'active' : ''" href="javascript:void(0);" (click)="selectCriticidadCuerpo('Media')">Media</a>
                                                <a class="dropdown-item" [ngClass]="criticidad_cuerpo && criticidad_cuerpo == 'Baja' ? 'active' : ''" href="javascript:void(0);" (click)="selectCriticidadCuerpo('Baja')">Baja</a>
                                                <a class="dropdown-item" [ngClass]="criticidad && criticidad == 'Otros' ? 'active' : ''" href="javascript:void(0);" (click)="selectCriticidadCuerpo('Otros')">Otros</a>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="col-3">
                
                                        <div class="btn-group" style="width: 100%;" ngbDropdown>
                                            
                                            <button type="button" class="btn btn-light dropdown-toggle dropdown-disable" style="
                                            width: 100%;
                                            text-align: left;
                                            background: white;
                                        " data-bs-toggle="dropdown"  aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>{{ !filtro_atributo ? 'Seleccione el atributo' : filtro_atributo }}</button>    
                                            <button type="button" class="btn btn-light dropdown-toggle dropdown-toggle-split ml-auto" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle></button>
                                            <div class="dropdown-menu dropdown-menu-dark" style="width: 100%;" ngbDropdownMenu>
                                                <a class="dropdown-item" [ngClass]="!filtro_atributo ? 'active' : ''" href="javascript:void(0);" (click)="selectAtributoFiltro()">Todos</a>
                                                
                                                <a class="dropdown-item" [ngClass]="filtro_atributo && filtro_atributo == 'Permisos' ? 'active' : ''" href="javascript:void(0);" (click)="selectAtributoFiltro('Permisos')">Permisos</a>
                                                
                                                <a class="dropdown-item" [ngClass]="filtro_atributo && filtro_atributo == 'Reportes' ? 'active' : ''" href="javascript:void(0);" (click)="selectAtributoFiltro('Reportes')">Reportes</a>
                                                
                                                <a class="dropdown-item" [ngClass]="filtro_atributo && filtro_atributo == 'Monitoreos' ? 'active' : ''" href="javascript:void(0);" (click)="selectAtributoFiltro('Monitoreos')">Monitoreos</a>
                                            </div>
                                        </div>
                
                                    </div>

                                    
                                    <div class="col-3">
                
                                        <div class="btn-group" style="width: 100%;" ngbDropdown>
                                            
                                            <button type="button" class="btn btn-light dropdown-toggle dropdown-disable" style="
                                            width: 100%;
                                            text-align: left;
                                            background: white;
                                        " data-bs-toggle="dropdown"  aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>{{ !filtro_articulo ? 'Seleccione el árticulo' : filtro_articulo }}</button>
                                            <button type="button" class="btn btn-light dropdown-toggle dropdown-toggle-split ml-auto" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle></button>
                                            <div class="dropdown-menu dropdown-menu-left dropdown-menu-dark" style="width: 100%;" ngbDropdownMenu>
                                                <a class="dropdown-item" [ngClass]="!filtro_articulo ? 'active' : ''" href="javascript:void(0);" (click)="selectArticuloFiltro()">Todos</a>

                                                <ng-container *ngFor="let ach of articles_filter"><!--getArticulos()-->
 <!--articulos_chart-->                                                   
                                                    <a class="dropdown-item" [ngClass]="filtro_articuloId && filtro_articuloId == ach.id ? 'active' : ''" href="javascript:void(0);" (click)="selectArticuloFiltro(ach.id, ach.articulo)">{{ach.articulo}}</a>
                                                </ng-container>
                                            </div>
                                        </div>
                
                                    </div>

                                  </div>
                                  <div class="row g-4 mb-3">
                                    <div class="col-12">
                
                                        <div class="btn-group" style="width: 100%;" ngbDropdown>
                                            
                                            <button type="button" class="btn btn-light" style="
                                            width: 100%;
                                            text-align: left;
                                            background: white;
                                        ">Selecciona el área</button>    
                                            <button type="button" class="btn btn-light dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle></button>
                                            <div class="dropdown-menu dropdown-menu-dark"  style="width: 100%;" ngbDropdownMenu>
                                                <!--<a class="dropdown-item" [ngClass]="!area_chart ? 'active' : ''" href="javascript:void(0);" (click)="selectAreaChart()">Todos</a>-->
                                                <ng-container *ngFor="let ar of areas_chart;">
                                                    <a class="dropdown-item" href="javascript:void(0);" (click)="selectAreaChartCuerpo(ar.id)">{{ar.nombre}}</a>
                                                </ng-container>
                                            </div>
                                        </div>
                
                                    </div>
                                  </div>

                <div class="row">
                    
                    <div class="col-xl-4 col-md-4">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">ARTÍCULOS APLICABLES</p>
                                        
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        <h4 class="fs-1"><span class="counter-value"
                                                >{{getDataDashboardCuerpo('articulos') < 1 ? 0 : getDataDashboardCuerpo('articulos')}}</span></h4><!--[CountTo]="getDataDashboardCuerpo('articulos')" [from]="0" [duration]="1" countArticulos(true)-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-xl-4 col-md-4">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">INSTANCIAS DE CUMPLIMIENTO</p>
                                        
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        <h4 class="fs-1"><span class="counter-value"
                                                >{{getDataDashboardCuerpo('instancias') < 1 ? 0 : getDataDashboardCuerpo('instancias')}}</span></h4><!--[CountTo]="getDataDashboardCuerpo('instancias')" [from]="0" [duration]="1" countArticulos(false) * countElementos()-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-xl-4 col-md-4">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">ELEMENTOS Y ACTIVIDADES</p>
                                        
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        <h4 class="fs-1"><span  class="counter-value"
                                                >{{getDataDashboardCuerpo('elementos') < 1 ? 0 : getDataDashboardCuerpo('elementos')}}</span></h4><!-- [CountTo]="getDataDashboardCuerpo('elementos')" [from]="0" [duration]="1" countElementos()-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                
                </div>
                            
                <div class="row">
                    
                    <div class="col-xl-3 col-md-3">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">PERMISOS</p>
                                        
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        <h4 class="fs-1"><span class="counter-value"
                                                >{{getDataDashboardCuerpo('permisos') < 1 ? 0 : getDataDashboardCuerpo('permisos')}}</span></h4><!--[CountTo]="getDataDashboardCuerpo('permisos')" [from]="0" [duration]="1" countAtributo('permiso')-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-3">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">REPORTES</p>
                                        
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        <h4 class="fs-1"><span class="counter-value"
                                                >{{getDataDashboardCuerpo('reportes') < 1 ? 0 : getDataDashboardCuerpo('reportes')}}</span></h4><!--[CountTo]="getDataDashboardCuerpo('reportes')" [from]="0" [duration]="1" countAtributo('reporte')-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-xl-3 col-md-3">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">MONITOREOS</p>
                                        
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        <h4 class="fs-1"><span class="counter-value"
                                                >{{getDataDashboardCuerpo('monitoreos') < 1 ? 0 : getDataDashboardCuerpo('monitoreos')}}</span></h4><!--[CountTo]="getDataDashboardCuerpo('monitoreos')" [from]="0" [duration]="1" countAtributo('monitoreo')-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-xl-3 col-md-3">
                        <div class="card card-height-100">
                            <div class="card-body align-self-center" style="text-align: center; width: 230px;">
                                <p class="text-uppercase fw-medium text-muted mb-3">OTRAS OBLIGACIONES</p>
                                        
                                <!--<div class="d-flex align-items-center">
                                    <div class="avatar-sm flex-shrink-0">
                                        <span class="avatar-title bg-soft-primary text-primary rounded-5 fs-2">
                                            <i class="ri-money-dollar-circle-fill"></i>
                                        </span>
                                    </div>
                                    <div class="flex-grow-1 ms-3">-->
                                        <h4 class="fs-1"><span class="counter-value">{{getDataDashboard('otros') < 1 ? 0 : getDataDashboard('otros')}}</span></h4><!--[CountTo]="getDataDashboard('otros')" 
                                            [from]="0" [duration]="1" countAtributo()-->
                                    <!--</div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                
                </div>
                
                <div class="row mb-3 align-items-center justify-content-center">
                    <div class="col-sm-12">
                        
                    <div class="card card-height-100">
                        <div class="card-body">
                            
                            <h4>Instancias de cumplimiento por área</h4>

                                <apx-chart [series]="getSeries(criticidad_cuerpo, basicBarChartGeneralCuerpos)" [colors]="basicBarChartGeneralCuerpos.colors"
                                    [chart]="getChart(criticidad, basicBarChartGeneralCuerpos.chart)" [dataLabels]="basicBarChartGeneralCuerpos.dataLabels"
                                    [plotOptions]="basicBarChartGeneralCuerpos.plotOptions" dir="ltr"
                                    [xaxis]="basicBarChartGeneralCuerpos.xaxis" [stroke]="basicBarChartGeneralCuerpos.stroke"
                                    [fill]="basicBarChartGeneralCuerpos.fill" [title]="basicBarChartGeneralCuerpos.title"
                                    [tooltip]="basicBarChartGeneralCuerpos.tooltip" [legend]="basicBarChartGeneralCuerpos.legend"></apx-chart>
                            
                        </div>
                    </div>
                    </div>
                </div>
                
                <div class="row mb-3 align-items-center justify-content-center">
                    <div class="col-sm-12">
                        
                    <div class="card card-height-100">
                        <!--<div class="card-header align-items-center d-flex">
                            <h4 class="card-title mb-0 flex-grow-1">Instancias de cumplimiento por Elemento y actividad</h4>
                            <div class="d-flex gap-1">
                                <button type="button" class="btn btn-sm" [ngClass]="select_gestion == 'cuerpoLegal' ? 'btn-soft-primary' : 'btn-soft-secondary'" (click)="selectGestion('cuerpoLegal')">
                                    Cuerpos
                                </button>
                                <button type="button" class="btn btn-sm" [ngClass]="select_gestion == 'articulos' ? 'btn-soft-primary' : 'btn-soft-secondary'" (click)="selectGestion('articulos')">
                                    Árticulos
                                </button>
                                <button type="button" class="btn btn-sm" [ngClass]="select_gestion == 'instancias' ? 'btn-soft-primary' : 'btn-soft-secondary'" (click)="selectGestion('instancias')">
                                    Instancias
                                </button>
                            </div>
                        </div>-->
                        <div class="card-body">
                                <h4>Instancias de cumplimiento por Elemento y actividad</h4>
                            
                                <apx-chart [series]="getSeries(criticidad_cuerpo, basicBarChartGeneralCuerposInstallation)" [colors]="basicBarChartGeneralCuerposInstallation.colors"
                                    [chart]="getChart(criticidad, basicBarChartGeneralCuerposInstallation.chart)" [dataLabels]="basicBarChartGeneralCuerposInstallation.dataLabels"
                                    [plotOptions]="basicBarChartGeneralCuerposInstallation.plotOptions" dir="ltr"
                                    [xaxis]="basicBarChartGeneralCuerposInstallation.xaxis" [stroke]="basicBarChartGeneralCuerposInstallation.stroke"
                                    [fill]="basicBarChartGeneralCuerposInstallation.fill" [title]="basicBarChartGeneralCuerposInstallation.title"
                                    [tooltip]="basicBarChartGeneralCuerposInstallation.tooltip" [legend]="basicBarChartGeneralCuerposInstallation.legend"></apx-chart>
                            
                        </div>
                    </div>
                    </div>
                </div>
                
                            </ng-template>
                        </li>
                      </ul>
                    </div>
                </div>
                    <div class="tab-content text-muted">
                      <div [ngbNavOutlet]="Header"></div>
                    </div>

                <!--<div class="row">
                    <div class="col-sm-12">
                        <div class="row mb-3">
                            
                            <div class="col-md-4">
                                <div class="card card-animate">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <p class="fw-medium text-muted mb-0">Artículos identificados</p>
                                                <h2 class="mt-4 ff-secondary fw-semibold">
                                                    <span [CountTo]="articles_proyects.length" class="counter-value" [from]="0" [duration]="1"></span>
                                                </h2>
                                            </div>
                                            <div>
                                                <div class="avatar-sm flex-shrink-0">
                                                    <span class="avatar-title bg-soft-info rounded-circle fs-2">
                                                        <i-feather name="users" class="text-info feather-icon-align"></i-feather>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <div class="card card-animate">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <p class="fw-medium text-muted mb-0">Artículos aplicables</p>
                                                <h2 class="mt-4 ff-secondary fw-semibold">
                                                    <span [CountTo]="countArticulos()" class="counter-value" [from]="0" [duration]="1"></span>
                                                </h2>
                                            </div>
                                            <div>
                                                <div class="avatar-sm flex-shrink-0">
                                                    <span class="avatar-title bg-soft-info rounded-circle fs-2">
                                                        <i-feather name="users" class="text-info feather-icon-align"></i-feather>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                  </div>

                <div class="row mb-3">
                    
                    <div class="col-sm-8">
                        <h4>Artículos</h4>
                        <apx-chart [series]="basicBarChartArticulos.series" [chart]="basicBarChartArticulos.chart" [dataLabels]="basicBarChartArticulos.dataLabels" [legend]="basicBarChartArticulos.legend" [plotOptions]="basicBarChartArticulos.plotOptions" [xaxis]="basicBarChartArticulos.xaxis" [colors]="basicBarChartArticulos.colors" dir="ltr"></apx-chart>
                    </div>

                </div>-->
            </ng-template>
        </li>
        <li [ngbNavItem]="2"><!--class="nav-item waves-effect waves-light"-->
            <a ngbNavLink>
                Resumen
            </a>
            <ng-template ngbNavContent>

          <div class="row g-4 mb-3">
            <div class="col-sm-auto">
                
            </div>
            <div class="col-sm">
                <div class="d-flex justify-content-sm-end gap-2">
                    <div class="search-box ms-2">
                        <input type="text" class="form-control" style="width: 400px;" placeholder="Buscar el cuerpo legal" [(ngModel)]="term4"><!--"service.searchTerm"-->
                        <i class="ri-search-line search-icon"></i>
                    </div>
                </div>
            </div>
          </div>
          
          <div style="min-height: 600px;">
            
    <!--<div class="row text-center text-center align-items-center mb-4 justify-content-center">
        <div class="col-xxl-2 col-lg-2" style="
        margin-left: 30px;
        margin-right: 30px;
    ">
            <div class="div-texto disabled">
                Legislación ambiental
            </div>
        </div>

        <div class="col-xxl-2 col-lg-2" style="
        margin-left: 30px;
        margin-right: 30px;
    ">
            <div class="div-texto disabled">
                Legislación de Seguridad y Salud en el trabajo 
            </div>
        </div>
        
        <div class="col-xxl-2 col-lg-2" style="
        margin-left: 30px;
        margin-right: 30px;
    ">
            <div class="div-texto disabled">
                Legislación laboral 
            </div>
        </div>
        
        <div class="col-xxl-2 col-lg-2" style="
        margin-left: 30px;
        margin-right: 30px;
    ">
            <div class="div-texto disabled">
                Legislación de energía 
            </div>
        </div>
    </div>-->

          <div class="row">
           
            <app-toastsp aria-live="polite" aria-atomic="true"></app-toastsp>
            
            <div class="col-xxl-3 col-sm-6 project-card" *ngFor="let s of articles_proyects_group | filter:term4" id="pl1_{{s.normaId}}">
                <div class="card card-height-100 ribbon-box border right" [ngClass]="{'card-border-success': validateIdCuerpo(s.normaId) == 1, 'card-border-warning': validateIdCuerpo(s.normaId) == 2, 'card-border-danger': !validateIdCuerpo(s.normaId)}">
                    <div class="card-body">
                        <div class="ribbon ribbon-success round-shape" style="font-size: 14px;" *ngIf="validateIdCuerpo(s.normaId) == 1">Gestionar</div>

                        <div class="ribbon ribbon-warning round-shape" style="font-size: 14px;" *ngIf="validateIdCuerpo(s.normaId) == 2">Por definir</div>
                        
                        <div class="ribbon ribbon-danger round-shape" style="font-size: 14px;" *ngIf="!validateIdCuerpo(s.normaId)">No Gestionar</div>

                        <div class="d-flex flex-column h-100 text-center">
                            <div class="d-flex">
                                <div class="flex-grow-1">
                                </div>
                                <div class="flex-shrink-0">
                                    <div class="d-flex gap-1 align-items-center">
                                        
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex mb-2">
                                <div class="flex-grow-1">
                                    <h5 class="mb-1 fs-15"><label style="color: #405189;">{{s.cuerpoLegal}}</label></h5>
                                    
                                        <p class="text-muted text-truncate-two-lines mb-3"><b>{{s.tituloNorma ? s.tituloNorma : ''}}</b></p>
                                        <p class="card-subtitle text-muted mb-0">{{s.organismo}}</p>
                                </div>
                            </div>
                            <div class="mt-auto">
                                <div class="d-flex mb-2">
                                    <div class="flex-grow-1">
                                        <!--<div>Creado por: Jhoan Zerpa</div>-->
                                    </div>
                                </div>
                            </div>
                            <div class="mt-auto">
                                <div class="d-flex mb-2">
                                    <div class="flex-grow-1" [ngClass]="{'text-success': validateAttributeNorma(s.normaId,'monitoreo')}">
                                        <div><i style="font-size: 24px;" class="ri-zoom-in-line"></i></div>
                                        <div>Monitoreo</div>
                                    </div>
                                    <div class="flex-grow-1" [ngClass]="{'text-success': validateAttributeNorma(s.normaId,'reporte')}">
                                        <div><i style="font-size: 24px;" class="ri-git-repository-line"></i></div>
                                        <div>Reporte</div>
                                    </div>
                                    <div class="flex-grow-1" [ngClass]="{'text-success': validateAttributeNorma(s.normaId,'permiso')}">
                                        <div><i style="font-size: 24px;" class="ri-file-list-3-line"></i></div>
                                        <div>Permiso</div>
                                    </div>
                                    <!--<div class="flex-shrink-0">
                                        <div><i class="ri-list-check align-bottom me-1 text-muted"></i>{{data.number ? data.number : '1/100'}}</div>
                                    </div>-->
                                </div>
                            </div>
                            
                            <div class="mt-auto">
                                <div class="d-flex mb-2">
                                    <div class="flex-grow-1">
                                        <div><h5>{{byCuerpoVinculacion(s.normaId)}}</h5></div>
                                        <div>{{byCuerpoVinculacion(s.normaId) == 1 ? 'Artículo a gestionar' : 'Artículos a gestionar'}}</div>
                                    </div>
                                    <div class="flex-grow-1">
                                        <div><h5>{{byCuerpo(s.normaId)}}</h5></div>
                                        <div>{{byCuerpo(s.normaId) == 1 ? 'Elemento' : 'Elementos'}}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-auto">
                                <a _ngcontent-mpd-c393="" href="javascript:void(0);" routerLink="/projects/{{project_id}}/identification/bodylegal/{{s.normaId}}/Detail" class="btn btn-light" style="width: 100%;">Ver detalle</a>
                            </div>
                        </div>
          
                    </div>
                    <!-- end card body -->
                </div>
            </div>
            <div *ngIf="!articles_proyects_group || articles_proyects_group.length == 0">
              <!--<div style="text-align: center;width: 100%;">
                  <img src="assets/images/file.png" width="300" height="200"/>
              </div>-->
              <div style="text-align: center;width: 100%;font-size: 20px;">
                  No hay datos para mostrar
              </div>
            </div>
          </div>
          </div>
          
        <div class="pagination justify-content-start mb-0"><!-- class="row g-0 text-center text-sm-start align-items-center mb-4" style="padding: 0px;position: fixed;bottom: 75px;width: 100%;"-->
            <div class="col-sm-7">
                <div>
                    <p class="mb-sm-0 text-muted">Mostrando página <span class="fw-semibold">1</span> de <span class="fw-semibold">{{pageTotal(pagLength)}}</span> de <span class="fw-semibold text-decoration-underline">{{pagLength}}</span> registros</p>
                </div>
            </div>
            
            <div class="col-sm-5">
                <ul class="pagination pagination-separated justify-content-center justify-content-sm-end mb-sm-0">
                    <li class="page-item disabled">
                        <a href="javascript:void(0);" class="page-link">Anterior</a>
                    </li>
                    <li class="page-item active">
                        <a href="javascript:void(0);" class="page-link">1</a>
                    </li>
                    <li class="page-item">
                        <a href="javascript:void(0);" class="page-link">Siguiente</a>
                      </li>
                  </ul>
              </div>
            </div>
        </ng-template>
        </li>
        </ul>
        
        <div class="tab-content text-muted" style="background: #f3f3f9">
            <div [ngbNavOutlet]="Pills"></div>
        </div>
        
    </div>
</div>
        <div class="row mb-4">
            <div class="col-12">
                <button class="btn btn-success btn-label waves-effect right waves-light" style="float:right;" (click)="terminar()"><i class="ri-arrow-right-line label-icon align-middle fs-16 ms-2"></i> Terminar</button><!--routerLink="/{{project_id}}/project-dashboard"-->
            </div>
        </div>
        
</ng-template>